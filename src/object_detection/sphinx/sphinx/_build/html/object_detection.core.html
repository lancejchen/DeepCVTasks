<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>object_detection.core package &#8212; models 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="object-detection-core-package">
<h1>object_detection.core package<a class="headerlink" href="#object-detection-core-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-object_detection.core.anchor_generator">
<span id="object-detection-core-anchor-generator-module"></span><h2>object_detection.core.anchor_generator module<a class="headerlink" href="#module-object_detection.core.anchor_generator" title="Permalink to this headline">¶</a></h2>
<p>Base anchor generator.</p>
<p>The job of the anchor generator is to create (or load) a collection
of bounding boxes to be used as anchors.</p>
<p>Generated anchors are assumed to match some convolutional grid or list of grid
shapes.  For example, we might want to generate anchors matching an 8x8
feature map and a 4x4 feature map.  If we place 3 anchors per grid location
on the first feature map and 6 anchors per grid location on the second feature
map, then 3*8*8 + 6*4*4 = 288 anchors are generated in total.</p>
<p>To support fully convolutional settings, feature map shapes are passed
dynamically at generation time.  The number of anchors to place at each location
is static &#8212; implementations of AnchorGenerator must always be able return
the number of anchors that it uses per location for each feature map.</p>
<dl class="class">
<dt id="object_detection.core.anchor_generator.AnchorGenerator">
<em class="property">class </em><code class="descclassname">object_detection.core.anchor_generator.</code><code class="descname">AnchorGenerator</code><a class="headerlink" href="#object_detection.core.anchor_generator.AnchorGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Abstract base class for anchor generators.</p>
<dl class="attribute">
<dt id="object_detection.core.anchor_generator.AnchorGenerator.check_num_anchors">
<code class="descname">check_num_anchors</code><a class="headerlink" href="#object_detection.core.anchor_generator.AnchorGenerator.check_num_anchors" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether to dynamically check the number of anchors generated.</p>
<p>Can be overridden by implementations that would like to disable this
behavior.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a boolean controlling whether the Generate function should dynamically
check the number of anchors generated against the mathematically
expected number of anchors.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.anchor_generator.AnchorGenerator.generate">
<code class="descname">generate</code><span class="sig-paren">(</span><em>feature_map_shape_list</em>, <em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.anchor_generator.AnchorGenerator.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a collection of bounding boxes to be used as anchors.</p>
<dl class="docutils">
<dt>TODO: remove <a href="#id1"><span class="problematic" id="id2">**</span></a>params from argument list and make stride and offsets (for</dt>
<dd>multiple_grid_anchor_generator) constructor arguments.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>feature_map_shape_list</strong> &#8211; list of (height, width) pairs in the format
[(height_0, width_0), (height_1, width_1), ...] that the generated
anchors must align with.  Pairs can be provided as 1-dimensional
integer tensors of length 2 or simply as tuples of integers.</li>
<li><strong>**params</strong> &#8211; parameters for anchor generation op</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a BoxList holding a collection of N anchor boxes</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#object_detection.core.standard_fields.BoxListFields.boxes" title="object_detection.core.standard_fields.BoxListFields.boxes">boxes</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if the number of feature map shapes does not match the length
of NumAnchorsPerLocation.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.anchor_generator.AnchorGenerator.name_scope">
<code class="descname">name_scope</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.anchor_generator.AnchorGenerator.name_scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Name scope.</p>
<p>Must be defined by implementations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a string representing the name scope of the anchor generation operation.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.anchor_generator.AnchorGenerator.num_anchors_per_location">
<code class="descname">num_anchors_per_location</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.anchor_generator.AnchorGenerator.num_anchors_per_location" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of anchors per spatial location.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of integers, one for each expected feature map to be passed to
the <cite>generate</cite> function.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.balanced_positive_negative_sampler">
<span id="object-detection-core-balanced-positive-negative-sampler-module"></span><h2>object_detection.core.balanced_positive_negative_sampler module<a class="headerlink" href="#module-object_detection.core.balanced_positive_negative_sampler" title="Permalink to this headline">¶</a></h2>
<p>Class to subsample minibatches by balancing positives and negatives.</p>
<p>Subsamples minibatches based on a pre-specified positive fraction in range
[0,1]. The class presumes there are many more negatives than positive examples:
if the desired batch_size cannot be achieved with the pre-specified positive
fraction, it fills the rest with negative examples. If this is not sufficient
for obtaining the desired batch_size, it returns fewer examples.</p>
<p>The main function to call is Subsample(self, indicator, labels). For convenience
one can also call SubsampleWeights(self, weights, labels) which is defined in
the minibatch_sampler base class.</p>
<dl class="class">
<dt id="object_detection.core.balanced_positive_negative_sampler.BalancedPositiveNegativeSampler">
<em class="property">class </em><code class="descclassname">object_detection.core.balanced_positive_negative_sampler.</code><code class="descname">BalancedPositiveNegativeSampler</code><span class="sig-paren">(</span><em>positive_fraction=0.5</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.balanced_positive_negative_sampler.BalancedPositiveNegativeSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#object_detection.core.minibatch_sampler.MinibatchSampler" title="object_detection.core.minibatch_sampler.MinibatchSampler"><code class="xref py py-class docutils literal"><span class="pre">object_detection.core.minibatch_sampler.MinibatchSampler</span></code></a></p>
<p>Subsamples minibatches to a desired balance of positives and negatives.</p>
<dl class="method">
<dt id="object_detection.core.balanced_positive_negative_sampler.BalancedPositiveNegativeSampler.subsample">
<code class="descname">subsample</code><span class="sig-paren">(</span><em>indicator</em>, <em>batch_size</em>, <em>labels</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.balanced_positive_negative_sampler.BalancedPositiveNegativeSampler.subsample" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns subsampled minibatch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>indicator</strong> &#8211; boolean tensor of shape [N] whose True entries can be sampled.</li>
<li><strong>batch_size</strong> &#8211; desired batch size.</li>
<li><strong>labels</strong> &#8211; boolean tensor of shape [N] denoting positive(=True) and negative
(=False) examples.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>boolean tensor of shape [N], True for entries which are</dt>
<dd><p class="first last">sampled.</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">is_sampled</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if labels and indicator are not 1D boolean tensors.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.balanced_positive_negative_sampler_test">
<span id="object-detection-core-balanced-positive-negative-sampler-test-module"></span><h2>object_detection.core.balanced_positive_negative_sampler_test module<a class="headerlink" href="#module-object_detection.core.balanced_positive_negative_sampler_test" title="Permalink to this headline">¶</a></h2>
<p>Tests for object_detection.core.balanced_positive_negative_sampler.</p>
<dl class="class">
<dt id="object_detection.core.balanced_positive_negative_sampler_test.BalancedPositiveNegativeSamplerTest">
<em class="property">class </em><code class="descclassname">object_detection.core.balanced_positive_negative_sampler_test.</code><code class="descname">BalancedPositiveNegativeSamplerTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.balanced_positive_negative_sampler_test.BalancedPositiveNegativeSamplerTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.balanced_positive_negative_sampler_test.BalancedPositiveNegativeSamplerTest.test_raises_error_with_incorrect_indicator_shape">
<code class="descname">test_raises_error_with_incorrect_indicator_shape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.balanced_positive_negative_sampler_test.BalancedPositiveNegativeSamplerTest.test_raises_error_with_incorrect_indicator_shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.balanced_positive_negative_sampler_test.BalancedPositiveNegativeSamplerTest.test_raises_error_with_incorrect_label_shape">
<code class="descname">test_raises_error_with_incorrect_label_shape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.balanced_positive_negative_sampler_test.BalancedPositiveNegativeSamplerTest.test_raises_error_with_incorrect_label_shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.balanced_positive_negative_sampler_test.BalancedPositiveNegativeSamplerTest.test_subsample_all_examples">
<code class="descname">test_subsample_all_examples</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.balanced_positive_negative_sampler_test.BalancedPositiveNegativeSamplerTest.test_subsample_all_examples" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.balanced_positive_negative_sampler_test.BalancedPositiveNegativeSamplerTest.test_subsample_selection">
<code class="descname">test_subsample_selection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.balanced_positive_negative_sampler_test.BalancedPositiveNegativeSamplerTest.test_subsample_selection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.batcher">
<span id="object-detection-core-batcher-module"></span><h2>object_detection.core.batcher module<a class="headerlink" href="#module-object_detection.core.batcher" title="Permalink to this headline">¶</a></h2>
<p>Provides functions to batch a dictionary of input tensors.</p>
<dl class="class">
<dt id="object_detection.core.batcher.BatchQueue">
<em class="property">class </em><code class="descclassname">object_detection.core.batcher.</code><code class="descname">BatchQueue</code><span class="sig-paren">(</span><em>tensor_dict</em>, <em>batch_size</em>, <em>batch_queue_capacity</em>, <em>num_batch_queue_threads</em>, <em>prefetch_queue_capacity</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.batcher.BatchQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>BatchQueue class.</p>
<p>This class creates a batch queue to asynchronously enqueue tensors_dict.
It also adds a FIFO prefetcher so that the batches are readily available
for the consumers.  Dequeue ops for a BatchQueue object can be created via
the Dequeue method which evaluates to a batch of tensor_dict.</p>
<p>key, string_tensor = slim.parallel_reader.parallel_read(...)
tensor_dict = decoder.decode(string_tensor)
tensor_dict = preprocessor.preprocess(tensor_dict, ...)
batch_queue = batcher.BatchQueue(tensor_dict,</p>
<blockquote>
<div>batch_size=32,
batch_queue_capacity=2000,
num_batch_queue_threads=8,
prefetch_queue_capacity=20)</div></blockquote>
<p>tensor_dict = batch_queue.dequeue()
outputs = Model(tensor_dict)
...
&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;</p>
<p>This class batches tensors of unequal sizes by zero padding and unpadding
them after generating a batch. This can be computationally expensive when
batching tensors (such as images) that are of vastly different sizes. So it is
recommended that the shapes of such tensors be fully defined in tensor_dict
while other lightweight tensors such as bounding box corners and class labels
can be of varying sizes. Use either crop or resize operations to fully define
the shape of an image in tensor_dict.</p>
<p>It is also recommended to perform any preprocessing operations on tensors
before passing to BatchQueue and subsequently calling the Dequeue method.</p>
<p>Another caveat is that this class does not read the last batch if it is not
full. The current implementation makes it hard to support that use case. So,
for evaluation, when it is critical to run all the examples through your
network use the input pipeline example mentioned in core/prefetcher.py.</p>
<dl class="method">
<dt id="object_detection.core.batcher.BatchQueue.dequeue">
<code class="descname">dequeue</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.batcher.BatchQueue.dequeue" title="Permalink to this definition">¶</a></dt>
<dd><p>Dequeues a batch of tensor_dict from the BatchQueue.</p>
<p>TODO: use allow_smaller_final_batch to allow running over the whole eval set</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A list of tensor_dicts of the requested batch_size.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.batcher_test">
<span id="object-detection-core-batcher-test-module"></span><h2>object_detection.core.batcher_test module<a class="headerlink" href="#module-object_detection.core.batcher_test" title="Permalink to this headline">¶</a></h2>
<p>Tests for object_detection.core.batcher.</p>
<dl class="class">
<dt id="object_detection.core.batcher_test.BatcherTest">
<em class="property">class </em><code class="descclassname">object_detection.core.batcher_test.</code><code class="descname">BatcherTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.batcher_test.BatcherTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.batcher_test.BatcherTest.test_batch_and_unpad_2d_tensors_of_different_sizes_in_1st_dimension">
<code class="descname">test_batch_and_unpad_2d_tensors_of_different_sizes_in_1st_dimension</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.batcher_test.BatcherTest.test_batch_and_unpad_2d_tensors_of_different_sizes_in_1st_dimension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.batcher_test.BatcherTest.test_batch_and_unpad_2d_tensors_of_different_sizes_in_all_dimensions">
<code class="descname">test_batch_and_unpad_2d_tensors_of_different_sizes_in_all_dimensions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.batcher_test.BatcherTest.test_batch_and_unpad_2d_tensors_of_different_sizes_in_all_dimensions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.batcher_test.BatcherTest.test_batch_and_unpad_2d_tensors_of_same_size_in_all_dimensions">
<code class="descname">test_batch_and_unpad_2d_tensors_of_same_size_in_all_dimensions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.batcher_test.BatcherTest.test_batch_and_unpad_2d_tensors_of_same_size_in_all_dimensions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.batcher_test.BatcherTest.test_batcher_when_batch_size_is_one">
<code class="descname">test_batcher_when_batch_size_is_one</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.batcher_test.BatcherTest.test_batcher_when_batch_size_is_one" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.box_coder">
<span id="object-detection-core-box-coder-module"></span><h2>object_detection.core.box_coder module<a class="headerlink" href="#module-object_detection.core.box_coder" title="Permalink to this headline">¶</a></h2>
<p>Base box coder.</p>
<p>Box coders convert between coordinate frames, namely image-centric
(with (0,0) on the top left of image) and anchor-centric (with (0,0) being
defined by a specific anchor).</p>
<dl class="docutils">
<dt>Users of a BoxCoder can call two methods:</dt>
<dd><dl class="first docutils">
<dt>encode: which encodes a box with respect to a given anchor</dt>
<dd>(or rather, a tensor of boxes wrt a corresponding tensor of anchors) and</dd>
</dl>
<p class="last">decode: which inverts this encoding with a decode operation.</p>
</dd>
</dl>
<p>In both cases, the arguments are assumed to be in 1-1 correspondence already;
it is not the job of a BoxCoder to perform matching.</p>
<dl class="class">
<dt id="object_detection.core.box_coder.BoxCoder">
<em class="property">class </em><code class="descclassname">object_detection.core.box_coder.</code><code class="descname">BoxCoder</code><a class="headerlink" href="#object_detection.core.box_coder.BoxCoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Abstract base class for box coder.</p>
<dl class="attribute">
<dt id="object_detection.core.box_coder.BoxCoder.code_size">
<code class="descname">code_size</code><a class="headerlink" href="#object_detection.core.box_coder.BoxCoder.code_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the size of each code.</p>
<p>This number is a constant and should agree with the output of the <cite>encode</cite>
op (e.g. if rel_codes is the output of self.encode(...), then it should have
shape [N, code_size()]).  This abstractproperty should be overridden by
implementations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an integer constant</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.box_coder.BoxCoder.decode">
<code class="descname">decode</code><span class="sig-paren">(</span><em>rel_codes</em>, <em>anchors</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_coder.BoxCoder.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Decode boxes that are encoded relative to an anchor collection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rel_codes</strong> &#8211; a tensor representing N relative-encoded boxes</li>
<li><strong>anchors</strong> &#8211; BoxList of anchors</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>BoxList holding N boxes encoded in the ordinary way (i.e.,</dt>
<dd><p class="first last">with corners y_min, x_min, y_max, x_max)</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">boxlist</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.box_coder.BoxCoder.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>boxes</em>, <em>anchors</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_coder.BoxCoder.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode a box list relative to an anchor collection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxes</strong> &#8211; BoxList holding N boxes to be encoded</li>
<li><strong>anchors</strong> &#8211; BoxList of N anchors</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a tensor representing N relative-encoded boxes</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_coder.batch_decode">
<code class="descclassname">object_detection.core.box_coder.</code><code class="descname">batch_decode</code><span class="sig-paren">(</span><em>encoded_boxes</em>, <em>box_coder</em>, <em>anchors</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_coder.batch_decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Decode a batch of encoded boxes.</p>
<p>This op takes a batch of encoded bounding boxes and transforms
them to a batch of bounding boxes specified by their corners in
the order of [y_min, x_min, y_max, x_max].</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>encoded_boxes</strong> &#8211; a float32 tensor of shape [batch_size, num_anchors,
code_size] representing the location of the objects.</li>
<li><strong>box_coder</strong> &#8211; a BoxCoder object.</li>
<li><strong>anchors</strong> &#8211; a BoxList of anchors used to encode <cite>encoded_boxes</cite>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>a float32 tensor of shape [batch_size, num_anchors,</dt>
<dd><p class="first last">coder_size] representing the corners of the objects in the order
of [y_min, x_min, y_max, x_max].</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">decoded_boxes</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if batch sizes of the inputs are inconsistent, or if</li>
<li>the number of anchors inferred from encoded_boxes and anchors are</li>
<li><code class="xref py py-exc docutils literal"><span class="pre">inconsistent.</span></code></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-object_detection.core.box_coder_test">
<span id="object-detection-core-box-coder-test-module"></span><h2>object_detection.core.box_coder_test module<a class="headerlink" href="#module-object_detection.core.box_coder_test" title="Permalink to this headline">¶</a></h2>
<p>Tests for object_detection.core.box_coder.</p>
<dl class="class">
<dt id="object_detection.core.box_coder_test.BoxCoderTest">
<em class="property">class </em><code class="descclassname">object_detection.core.box_coder_test.</code><code class="descname">BoxCoderTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_coder_test.BoxCoderTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.box_coder_test.BoxCoderTest.test_batch_decode">
<code class="descname">test_batch_decode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_coder_test.BoxCoderTest.test_batch_decode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.box_coder_test.MockBoxCoder">
<em class="property">class </em><code class="descclassname">object_detection.core.box_coder_test.</code><code class="descname">MockBoxCoder</code><a class="headerlink" href="#object_detection.core.box_coder_test.MockBoxCoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#object_detection.core.box_coder.BoxCoder" title="object_detection.core.box_coder.BoxCoder"><code class="xref py py-class docutils literal"><span class="pre">object_detection.core.box_coder.BoxCoder</span></code></a></p>
<p>Test BoxCoder that encodes/decodes using the multiply-by-two function.</p>
<dl class="method">
<dt id="object_detection.core.box_coder_test.MockBoxCoder.code_size">
<code class="descname">code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_coder_test.MockBoxCoder.code_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.box_list">
<span id="object-detection-core-box-list-module"></span><h2>object_detection.core.box_list module<a class="headerlink" href="#module-object_detection.core.box_list" title="Permalink to this headline">¶</a></h2>
<p>Bounding Box List definition.</p>
<p>BoxList represents a list of bounding boxes as tensorflow
tensors, where each bounding box is represented as a row of 4 numbers,
[y_min, x_min, y_max, x_max].  It is assumed that all bounding boxes
within a given list correspond to a single image.  See also
box_list_ops.py for common box related operations (such as area, iou, etc).</p>
<p>Optionally, users can add additional related fields (such as weights).
We assume the following things to be true about fields:
* they correspond to boxes in the box_list along the 0th dimension
* they have inferrable rank at graph construction time
* all dimensions except for possibly the 0th can be inferred</p>
<blockquote>
<div>(i.e., not None) at graph construction time.</div></blockquote>
<dl class="docutils">
<dt>Some other notes:</dt>
<dd><ul class="first simple">
<li>Following tensorflow conventions, we use height, width ordering,</li>
</ul>
<p class="last">and correspondingly, y,x (or ymin, xmin, ymax, xmax) ordering
* Tensors are always provided as (flat) [N, 4] tensors.</p>
</dd>
</dl>
<dl class="class">
<dt id="object_detection.core.box_list.BoxList">
<em class="property">class </em><code class="descclassname">object_detection.core.box_list.</code><code class="descname">BoxList</code><span class="sig-paren">(</span><em>boxes</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list.BoxList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Box collection.</p>
<dl class="method">
<dt id="object_detection.core.box_list.BoxList.add_field">
<code class="descname">add_field</code><span class="sig-paren">(</span><em>field</em>, <em>field_data</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list.BoxList.add_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Add field to box list.</p>
<p>This method can be used to add related box data such as
weights/labels, etc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>field</strong> &#8211; a string key to access the data via <cite>get</cite></li>
<li><strong>field_data</strong> &#8211; a tensor containing the data to store in the BoxList</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list.BoxList.as_tensor_dict">
<code class="descname">as_tensor_dict</code><span class="sig-paren">(</span><em>fields=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list.BoxList.as_tensor_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves specified fields as a dictionary of tensors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fields</strong> &#8211; (optional) list of fields to return in the dictionary.
If None (default), all fields are returned.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dictionary of tensors specified by fields.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tensor_dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if specified field is not contained in boxlist.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list.BoxList.get">
<code class="descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list.BoxList.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function for accessing box coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a tensor with shape [N, 4] representing box coordinates.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list.BoxList.get_all_fields">
<code class="descname">get_all_fields</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list.BoxList.get_all_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all fields.</p>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list.BoxList.get_center_coordinates_and_sizes">
<code class="descname">get_center_coordinates_and_sizes</code><span class="sig-paren">(</span><em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list.BoxList.get_center_coordinates_and_sizes" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the center coordinates, height and width of the boxes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scope</strong> &#8211; name scope of the function.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of 4 1-D tensors [ycenter, xcenter, height, width].</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list.BoxList.get_extra_fields">
<code class="descname">get_extra_fields</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list.BoxList.get_extra_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all non-box fields (i.e., everything not named &#8216;boxes&#8217;).</p>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list.BoxList.get_field">
<code class="descname">get_field</code><span class="sig-paren">(</span><em>field</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list.BoxList.get_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Accesses a box collection and associated fields.</p>
<p>This function returns specified field with object; if no field is specified,
it returns the box coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>field</strong> &#8211; this optional string parameter can be used to specify
a related field to be accessed.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a tensor representing the box collection or an associated field.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if invalid field</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list.BoxList.has_field">
<code class="descname">has_field</code><span class="sig-paren">(</span><em>field</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list.BoxList.has_field" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list.BoxList.num_boxes">
<code class="descname">num_boxes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list.BoxList.num_boxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns number of boxes held in collection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a tensor representing the number of boxes held in the collection.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list.BoxList.num_boxes_static">
<code class="descname">num_boxes_static</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list.BoxList.num_boxes_static" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns number of boxes held in collection.</p>
<p>This number is inferred at graph construction time rather than run-time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>Number of boxes held in collection (integer) or None if this is not</dt>
<dd>inferrable at graph construction time.</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list.BoxList.set">
<code class="descname">set</code><span class="sig-paren">(</span><em>boxes</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list.BoxList.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function for setting box coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>boxes</strong> &#8211; a tensor of shape [N, 4] representing box corners</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if invalid dimensions for bbox data</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list.BoxList.set_field">
<code class="descname">set_field</code><span class="sig-paren">(</span><em>field</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list.BoxList.set_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the value of a field.</p>
<p>Updates the field of a box_list with a given value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>field</strong> &#8211; (string) name of the field to set value.</li>
<li><strong>value</strong> &#8211; the value to assign to the field.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if the box_list does not have specified field.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list.BoxList.transpose_coordinates">
<code class="descname">transpose_coordinates</code><span class="sig-paren">(</span><em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list.BoxList.transpose_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Transpose the coordinate representation in a boxlist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scope</strong> &#8211; name scope of the function.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.box_list_ops">
<span id="object-detection-core-box-list-ops-module"></span><h2>object_detection.core.box_list_ops module<a class="headerlink" href="#module-object_detection.core.box_list_ops" title="Permalink to this headline">¶</a></h2>
<p>Bounding Box List operations.</p>
<dl class="docutils">
<dt>Example box operations that are supported:</dt>
<dd><ul class="first last simple">
<li>areas: compute bounding box areas</li>
<li>iou: pairwise intersection-over-union scores</li>
<li>sq_dist: pairwise distances between bounding boxes</li>
</ul>
</dd>
</dl>
<p>Whenever box_list_ops functions output a BoxList, the fields of the incoming
BoxList are retained unless documented otherwise.</p>
<dl class="class">
<dt id="object_detection.core.box_list_ops.SortOrder">
<em class="property">class </em><code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">SortOrder</code><a class="headerlink" href="#object_detection.core.box_list_ops.SortOrder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Enum class for sort order.</p>
<dl class="attribute">
<dt id="object_detection.core.box_list_ops.SortOrder.ascend">
<code class="descname">ascend</code><a class="headerlink" href="#object_detection.core.box_list_ops.SortOrder.ascend" title="Permalink to this definition">¶</a></dt>
<dd><p>ascend order.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.box_list_ops.SortOrder.descend">
<code class="descname">descend</code><a class="headerlink" href="#object_detection.core.box_list_ops.SortOrder.descend" title="Permalink to this definition">¶</a></dt>
<dd><p>descend order.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">ascend</code><em class="property"> = 1</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">descend</code><em class="property"> = 2</em></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.area">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">area</code><span class="sig-paren">(</span><em>boxlist</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.area" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes area of boxes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist</strong> &#8211; BoxList holding N boxes</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a tensor with shape [N] representing box areas.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.boolean_mask">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">boolean_mask</code><span class="sig-paren">(</span><em>boxlist</em>, <em>indicator</em>, <em>fields=None</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.boolean_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Select boxes from BoxList according to indicator and return new BoxList.</p>
<p><cite>boolean_mask</cite> returns the subset of boxes that are marked as &#8220;True&#8221; by the
indicator tensor. By default, <cite>boolean_mask</cite> returns boxes corresponding to
the input index list, as well as all additional fields stored in the boxlist
(indexing into the first dimension).  However one can optionally only draw
from a subset of fields.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist</strong> &#8211; BoxList holding N boxes</li>
<li><strong>indicator</strong> &#8211; a rank-1 boolean tensor</li>
<li><strong>fields</strong> &#8211; (optional) list of fields to also gather from.  If None (default),
all fields are gathered from.  Pass an empty fields list to only gather
the box coordinates.</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>a BoxList corresponding to the subset of the input BoxList</dt>
<dd><p class="first last">specified by indicator</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">subboxlist</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if <cite>indicator</cite> is not a rank-1 boolean tensor.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.box_voting">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">box_voting</code><span class="sig-paren">(</span><em>selected_boxes</em>, <em>pool_boxes</em>, <em>iou_thresh=0.5</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.box_voting" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs box voting as described in S. Gidaris and N. Komodakis, ICCV 2015.</p>
<p>Performs box voting as described in &#8216;Object detection via a multi-region &amp;
semantic segmentation-aware CNN model&#8217;, Gidaris and Komodakis, ICCV 2015. For
each box &#8216;B&#8217; in selected_boxes, we find the set &#8216;S&#8217; of boxes in pool_boxes
with iou overlap &gt;= iou_thresh. The location of B is set to the weighted
average location of boxes in S (scores are used for weighting). And the score
of B is set to the average score of boxes in S.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>selected_boxes</strong> &#8211; BoxList containing a subset of boxes in pool_boxes. These
boxes are usually selected from pool_boxes using non max suppression.</li>
<li><strong>pool_boxes</strong> &#8211; BoxList containing a set of (possibly redundant) boxes.</li>
<li><strong>iou_thresh</strong> &#8211; (float scalar) iou threshold for matching boxes in
selected_boxes and pool_boxes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">BoxList containing averaged locations and scores for each box in
selected_boxes.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if
a) selected_boxes or pool_boxes is not a BoxList.
b) if iou_thresh is not in [0, 1].
c) pool_boxes does not have a scores field.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.change_coordinate_frame">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">change_coordinate_frame</code><span class="sig-paren">(</span><em>boxlist</em>, <em>window</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.change_coordinate_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Change coordinate frame of the boxlist to be relative to window&#8217;s frame.</p>
<p>Given a window of the form [ymin, xmin, ymax, xmax],
changes bounding box coordinates from boxlist to be relative to this window
(e.g., the min corner maps to (0,0) and the max corner maps to (1,1)).</p>
<p>An example use case is data augmentation: where we are given groundtruth
boxes (boxlist) and would like to randomly crop the image to some
window (window). In this case we need to change the coordinate frame of
each groundtruth box to be relative to this new window.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist</strong> &#8211; A BoxList object holding N boxes.</li>
<li><strong>window</strong> &#8211; A rank 1 tensor [4].</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Returns a BoxList object with N boxes.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.clip_to_window">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">clip_to_window</code><span class="sig-paren">(</span><em>boxlist</em>, <em>window</em>, <em>filter_nonoverlapping=True</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.clip_to_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Clip bounding boxes to a window.</p>
<p>This op clips any input bounding boxes (represented by bounding box
corners) to a window, optionally filtering out boxes that do not
overlap at all with the window.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist</strong> &#8211; BoxList holding M_in boxes</li>
<li><strong>window</strong> &#8211; a tensor of shape [4] representing the [y_min, x_min, y_max, x_max]
window to which the op should clip boxes.</li>
<li><strong>filter_nonoverlapping</strong> &#8211; whether to filter out boxes that do not overlap at
all with the window.</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a BoxList holding M_out boxes where M_out &lt;= M_in</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.concatenate">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">concatenate</code><span class="sig-paren">(</span><em>boxlists</em>, <em>fields=None</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.concatenate" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate list of BoxLists.</p>
<p>This op concatenates a list of input BoxLists into a larger BoxList.  It also
handles concatenation of BoxList fields as long as the field tensor shapes
are equal except for the first dimension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlists</strong> &#8211; list of BoxList objects</li>
<li><strong>fields</strong> &#8211; optional list of fields to also concatenate.  By default, all
fields from the first BoxList in the list are included in the
concatenation.</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>a BoxList with number of boxes equal to</dt>
<dd><p class="first last">sum([boxlist.num_boxes() for boxlist in BoxList])</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if boxlists is invalid (i.e., is not a list, is empty, or
contains non BoxList objects), or if requested fields are not contained in
all boxlists</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.filter_field_value_equals">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">filter_field_value_equals</code><span class="sig-paren">(</span><em>boxlist</em>, <em>field</em>, <em>value</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.filter_field_value_equals" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter to keep only boxes with field entries equal to the given value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist</strong> &#8211; BoxList holding N boxes.</li>
<li><strong>field</strong> &#8211; field name for filtering.</li>
<li><strong>value</strong> &#8211; scalar value.</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a BoxList holding M boxes where M &lt;= N</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if boxlist not a BoxList object or if it does not have
the specified field.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.filter_greater_than">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">filter_greater_than</code><span class="sig-paren">(</span><em>boxlist</em>, <em>thresh</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.filter_greater_than" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter to keep only boxes with score exceeding a given threshold.</p>
<p>This op keeps the collection of boxes whose corresponding scores are
greater than the input threshold.</p>
<p>TODO: Change function name to FilterScoresGreaterThan</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist</strong> &#8211; BoxList holding N boxes.  Must contain a &#8216;scores&#8217; field
representing detection scores.</li>
<li><strong>thresh</strong> &#8211; scalar threshold</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a BoxList holding M boxes where M &lt;= N</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if boxlist not a BoxList object or if it does not
have a scores field</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.gather">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">gather</code><span class="sig-paren">(</span><em>boxlist</em>, <em>indices</em>, <em>fields=None</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.gather" title="Permalink to this definition">¶</a></dt>
<dd><p>Gather boxes from BoxList according to indices and return new BoxList.</p>
<p>By default, <cite>gather</cite> returns boxes corresponding to the input index list, as
well as all additional fields stored in the boxlist (indexing into the
first dimension).  However one can optionally only gather from a
subset of fields.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist</strong> &#8211; BoxList holding N boxes</li>
<li><strong>indices</strong> &#8211; a rank-1 tensor of type int32 / int64</li>
<li><strong>fields</strong> &#8211; (optional) list of fields to also gather from.  If None (default),
all fields are gathered from.  Pass an empty fields list to only gather
the box coordinates.</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a BoxList corresponding to the subset of the input BoxList
specified by indices</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">subboxlist</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if specified field is not contained in boxlist or if the
indices are not of type int32</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.height_width">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">height_width</code><span class="sig-paren">(</span><em>boxlist</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.height_width" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes height and width of boxes in boxlist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist</strong> &#8211; BoxList holding N boxes</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A tensor with shape [N] representing box heights.
Width: A tensor with shape [N] representing box widths.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Height</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.intersection">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">intersection</code><span class="sig-paren">(</span><em>boxlist1</em>, <em>boxlist2</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute pairwise intersection areas between boxes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist1</strong> &#8211; BoxList holding N boxes</li>
<li><strong>boxlist2</strong> &#8211; BoxList holding M boxes</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a tensor with shape [N, M] representing pairwise intersections</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.ioa">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">ioa</code><span class="sig-paren">(</span><em>boxlist1</em>, <em>boxlist2</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.ioa" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes pairwise intersection-over-area between box collections.</p>
<p>intersection-over-area (IOA) between two boxes box1 and box2 is defined as
their intersection area over box2&#8217;s area. Note that ioa is not symmetric,
that is, ioa(box1, box2) != ioa(box2, box1).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist1</strong> &#8211; BoxList holding N boxes</li>
<li><strong>boxlist2</strong> &#8211; BoxList holding M boxes</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a tensor with shape [N, M] representing pairwise ioa scores.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.iou">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">iou</code><span class="sig-paren">(</span><em>boxlist1</em>, <em>boxlist2</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.iou" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes pairwise intersection-over-union between box collections.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist1</strong> &#8211; BoxList holding N boxes</li>
<li><strong>boxlist2</strong> &#8211; BoxList holding M boxes</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a tensor with shape [N, M] representing pairwise iou scores.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.matched_intersection">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">matched_intersection</code><span class="sig-paren">(</span><em>boxlist1</em>, <em>boxlist2</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.matched_intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute intersection areas between corresponding boxes in two boxlists.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist1</strong> &#8211; BoxList holding N boxes</li>
<li><strong>boxlist2</strong> &#8211; BoxList holding N boxes</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a tensor with shape [N] representing pairwise intersections</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.matched_iou">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">matched_iou</code><span class="sig-paren">(</span><em>boxlist1</em>, <em>boxlist2</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.matched_iou" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute intersection-over-union between corresponding boxes in boxlists.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist1</strong> &#8211; BoxList holding N boxes</li>
<li><strong>boxlist2</strong> &#8211; BoxList holding N boxes</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a tensor with shape [N] representing pairwise iou scores.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.non_max_suppression">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">non_max_suppression</code><span class="sig-paren">(</span><em>boxlist</em>, <em>thresh</em>, <em>max_output_size</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.non_max_suppression" title="Permalink to this definition">¶</a></dt>
<dd><p>Non maximum suppression.</p>
<p>This op greedily selects a subset of detection bounding boxes, pruning
away boxes that have high IOU (intersection over union) overlap (&gt; thresh)
with already selected boxes.  Note that this only works for a single class &#8212;
to apply NMS to multi-class predictions, use MultiClassNonMaxSuppression.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist</strong> &#8211; BoxList holding N boxes.  Must contain a &#8216;scores&#8217; field
representing detection scores.</li>
<li><strong>thresh</strong> &#8211; scalar threshold</li>
<li><strong>max_output_size</strong> &#8211; maximum number of retained boxes</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a BoxList holding M boxes where M &lt;= max_output_size</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if thresh is not in [0, 1]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.pad_or_clip_box_list">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">pad_or_clip_box_list</code><span class="sig-paren">(</span><em>boxlist</em>, <em>num_boxes</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.pad_or_clip_box_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Pads or clips all fields of a BoxList.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist</strong> &#8211; A BoxList with arbitrary of number of boxes.</li>
<li><strong>num_boxes</strong> &#8211; First num_boxes in boxlist are kept.
The fields are zero-padded if num_boxes is bigger than the
actual number of boxes.</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">BoxList with all fields padded or clipped.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.prune_completely_outside_window">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">prune_completely_outside_window</code><span class="sig-paren">(</span><em>boxlist</em>, <em>window</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.prune_completely_outside_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Prunes bounding boxes that fall completely outside of the given window.</p>
<p>The function clip_to_window prunes bounding boxes that fall
completely outside the window, but also clips any bounding boxes that
partially overflow. This function does not clip partially overflowing boxes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist</strong> &#8211; a BoxList holding M_in boxes.</li>
<li><strong>window</strong> &#8211; a float tensor of shape [4] representing [ymin, xmin, ymax, xmax]
of the window</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>a tensor with shape [M_out, 4] where M_out &lt;= M_in
valid_indices: a tensor with shape [M_out] indexing the valid bounding boxes</p>
<blockquote>
<div><p>in the input tensor.</p>
</div></blockquote>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pruned_corners</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.prune_non_overlapping_boxes">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">prune_non_overlapping_boxes</code><span class="sig-paren">(</span><em>boxlist1</em>, <em>boxlist2</em>, <em>min_overlap=0.0</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.prune_non_overlapping_boxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Prunes the boxes in boxlist1 that overlap less than thresh with boxlist2.</p>
<p>For each box in boxlist1, we want its IOA to be more than minoverlap with
at least one of the boxes in boxlist2. If it does not, we remove it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist1</strong> &#8211; BoxList holding N boxes.</li>
<li><strong>boxlist2</strong> &#8211; BoxList holding M boxes.</li>
<li><strong>min_overlap</strong> &#8211; Minimum required overlap between boxes, to count them as
overlapping.</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>A pruned boxlist with size [N&#8217;, 4].
keep_inds: A tensor with shape [N&#8217;] indexing kept bounding boxes in the</p>
<blockquote>
<div><p>first input BoxList <cite>boxlist1</cite>.</p>
</div></blockquote>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">new_boxlist1</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.prune_outside_window">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">prune_outside_window</code><span class="sig-paren">(</span><em>boxlist</em>, <em>window</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.prune_outside_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Prunes bounding boxes that fall outside a given window.</p>
<p>This function prunes bounding boxes that even partially fall outside the given
window. See also clip_to_window which only prunes bounding boxes that fall
completely outside the window, and clips any bounding boxes that partially
overflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist</strong> &#8211; a BoxList holding M_in boxes.</li>
<li><strong>window</strong> &#8211; a float tensor of shape [4] representing [ymin, xmin, ymax, xmax]
of the window</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>a tensor with shape [M_out, 4] where M_out &lt;= M_in
valid_indices: a tensor with shape [M_out] indexing the valid bounding boxes</p>
<blockquote>
<div><p>in the input tensor.</p>
</div></blockquote>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pruned_corners</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.prune_small_boxes">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">prune_small_boxes</code><span class="sig-paren">(</span><em>boxlist</em>, <em>min_side</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.prune_small_boxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Prunes small boxes in the boxlist which have a side smaller than min_side.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist</strong> &#8211; BoxList holding N boxes.</li>
<li><strong>min_side</strong> &#8211; Minimum width AND height of box to survive pruning.</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A pruned boxlist.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.refine_boxes">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">refine_boxes</code><span class="sig-paren">(</span><em>pool_boxes</em>, <em>nms_iou_thresh</em>, <em>nms_max_detections</em>, <em>voting_iou_thresh=0.5</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.refine_boxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Refines a pool of boxes using non max suppression and box voting.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pool_boxes</strong> &#8211; (BoxList) A collection of boxes to be refined. pool_boxes must
have a rank 1 &#8216;scores&#8217; field.</li>
<li><strong>nms_iou_thresh</strong> &#8211; (float scalar) iou threshold for non max suppression (NMS).</li>
<li><strong>nms_max_detections</strong> &#8211; (int scalar) maximum output size for NMS.</li>
<li><strong>voting_iou_thresh</strong> &#8211; (float scalar) iou threshold for box voting.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">BoxList of refined boxes.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if
a) nms_iou_thresh or voting_iou_thresh is not in [0, 1].
b) pool_boxes is not a BoxList.
c) pool_boxes does not have a scores field.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.refine_boxes_multi_class">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">refine_boxes_multi_class</code><span class="sig-paren">(</span><em>pool_boxes</em>, <em>num_classes</em>, <em>nms_iou_thresh</em>, <em>nms_max_detections</em>, <em>voting_iou_thresh=0.5</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.refine_boxes_multi_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Refines a pool of boxes using non max suppression and box voting.</p>
<p>Box refinement is done independently for each class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pool_boxes</strong> &#8211; (BoxList) A collection of boxes to be refined. pool_boxes must
have a rank 1 &#8216;scores&#8217; field and a rank 1 &#8216;classes&#8217; field.</li>
<li><strong>num_classes</strong> &#8211; (int scalar) Number of classes.</li>
<li><strong>nms_iou_thresh</strong> &#8211; (float scalar) iou threshold for non max suppression (NMS).</li>
<li><strong>nms_max_detections</strong> &#8211; (int scalar) maximum output size for NMS.</li>
<li><strong>voting_iou_thresh</strong> &#8211; (float scalar) iou threshold for box voting.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">BoxList of refined boxes.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if
a) nms_iou_thresh or voting_iou_thresh is not in [0, 1].
b) pool_boxes is not a BoxList.
c) pool_boxes does not have a scores and classes field.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.scale">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">scale</code><span class="sig-paren">(</span><em>boxlist</em>, <em>y_scale</em>, <em>x_scale</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.scale" title="Permalink to this definition">¶</a></dt>
<dd><p>scale box coordinates in x and y dimensions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist</strong> &#8211; BoxList holding N boxes</li>
<li><strong>y_scale</strong> &#8211; (float) scalar tensor</li>
<li><strong>x_scale</strong> &#8211; (float) scalar tensor</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">BoxList holding N boxes</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">boxlist</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.sort_by_field">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">sort_by_field</code><span class="sig-paren">(</span><em>boxlist</em>, <em>field</em>, <em>order=2</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.sort_by_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort boxes and associated fields according to a scalar field.</p>
<p>A common use case is reordering the boxes according to descending scores.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist</strong> &#8211; BoxList holding N boxes.</li>
<li><strong>field</strong> &#8211; A BoxList field for sorting and reordering the BoxList.</li>
<li><strong>order</strong> &#8211; (Optional) descend or ascend. Default is descend.</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A sorted BoxList with the field in the specified order.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">sorted_boxlist</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if specified field does not exist</li>
<li><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if the order is not either descend or ascend</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.sq_dist">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">sq_dist</code><span class="sig-paren">(</span><em>boxlist1</em>, <em>boxlist2</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.sq_dist" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the pairwise squared distances between box corners.</p>
<p>This op treats each box as if it were a point in a 4d Euclidean space and
computes pairwise squared distances.</p>
<p>Mathematically, we are given two matrices of box coordinates X and Y,
where X(i,:) is the i&#8217;th row of X, containing the 4 numbers defining the
corners of the i&#8217;th box in boxlist1. Similarly Y(j,:) corresponds to
boxlist2.  We compute
Z(i,j) = ||X(i,:) - Y(j,:)||^2</p>
<blockquote>
<div>= ||X(i,:)||^2 + ||Y(j,:)||^2 - 2 X(i,:)&#8217; * Y(j,:),</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist1</strong> &#8211; BoxList holding N boxes</li>
<li><strong>boxlist2</strong> &#8211; BoxList holding M boxes</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a tensor with shape [N, M] representing pairwise distances</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.to_absolute_coordinates">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">to_absolute_coordinates</code><span class="sig-paren">(</span><em>boxlist</em>, <em>height</em>, <em>width</em>, <em>check_range=True</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.to_absolute_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts normalized box coordinates to absolute pixel coordinates.</p>
<p>This function raises an assertion failed error when the maximum box coordinate
value is larger than 1.01 (in which case coordinates are already absolute).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist</strong> &#8211; BoxList with coordinates in range [0, 1].</li>
<li><strong>height</strong> &#8211; Maximum value for height of absolute box coordinates.</li>
<li><strong>width</strong> &#8211; Maximum value for width of absolute box coordinates.</li>
<li><strong>check_range</strong> &#8211; If True, checks if the coordinates are normalized or not.</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">boxlist with absolute coordinates in terms of the image size.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.to_normalized_coordinates">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">to_normalized_coordinates</code><span class="sig-paren">(</span><em>boxlist</em>, <em>height</em>, <em>width</em>, <em>check_range=True</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.to_normalized_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts absolute box coordinates to normalized coordinates in [0, 1].</p>
<dl class="docutils">
<dt>Usually one uses the dynamic shape of the image or conv-layer tensor:</dt>
<dd><dl class="first last docutils">
<dt>boxlist = box_list_ops.to_normalized_coordinates(boxlist,</dt>
<dd>tf.shape(images)[1],
tf.shape(images)[2]),</dd>
</dl>
</dd>
</dl>
<p>This function raises an assertion failed error at graph execution time when
the maximum coordinate is smaller than 1.01 (which means that coordinates are
already normalized). The value 1.01 is to deal with small rounding errors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist</strong> &#8211; BoxList with coordinates in terms of pixel-locations.</li>
<li><strong>height</strong> &#8211; Maximum value for height of absolute box coordinates.</li>
<li><strong>width</strong> &#8211; Maximum value for width of absolute box coordinates.</li>
<li><strong>check_range</strong> &#8211; If True, checks if the coordinates are normalized or not.</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">boxlist with normalized coordinates in [0, 1].</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.box_list_ops.visualize_boxes_in_image">
<code class="descclassname">object_detection.core.box_list_ops.</code><code class="descname">visualize_boxes_in_image</code><span class="sig-paren">(</span><em>image</em>, <em>boxlist</em>, <em>normalized=False</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops.visualize_boxes_in_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Overlay bounding box list on image.</p>
<p>Currently this visualization plots a 1 pixel thick red bounding box on top
of the image.  Note that tf.image.draw_bounding_boxes essentially is
1 indexed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; an image tensor with shape [height, width, 3]</li>
<li><strong>boxlist</strong> &#8211; a BoxList</li>
<li><strong>normalized</strong> &#8211; (boolean) specify whether corners are to be interpreted
as absolute coordinates in image space or normalized with respect to the
image size.</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">an image tensor with shape [height, width, 3]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">image_and_boxes</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-object_detection.core.box_list_ops_test">
<span id="object-detection-core-box-list-ops-test-module"></span><h2>object_detection.core.box_list_ops_test module<a class="headerlink" href="#module-object_detection.core.box_list_ops_test" title="Permalink to this headline">¶</a></h2>
<p>Tests for object_detection.core.box_list_ops.</p>
<dl class="class">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest">
<em class="property">class </em><code class="descclassname">object_detection.core.box_list_ops_test.</code><code class="descname">BoxListOpsTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<p>Tests for common bounding box operations.</p>
<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_area">
<code class="descname">test_area</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_area" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_boolean_mask">
<code class="descname">test_boolean_mask</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_boolean_mask" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_boolean_mask_with_field">
<code class="descname">test_boolean_mask_with_field</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_boolean_mask_with_field" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_change_coordinate_frame">
<code class="descname">test_change_coordinate_frame</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_change_coordinate_frame" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_clip_box_list">
<code class="descname">test_clip_box_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_clip_box_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_clip_to_window_filter_boxes_which_fall_outside_the_window">
<code class="descname">test_clip_to_window_filter_boxes_which_fall_outside_the_window</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_clip_to_window_filter_boxes_which_fall_outside_the_window" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_clip_to_window_without_filtering_boxes_which_fall_outside_the_window">
<code class="descname">test_clip_to_window_without_filtering_boxes_which_fall_outside_the_window</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_clip_to_window_without_filtering_boxes_which_fall_outside_the_window" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_filter_field_value_equals">
<code class="descname">test_filter_field_value_equals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_filter_field_value_equals" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_filter_greater_than">
<code class="descname">test_filter_greater_than</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_filter_greater_than" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_gather">
<code class="descname">test_gather</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_gather" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_gather_with_dynamic_indexing">
<code class="descname">test_gather_with_dynamic_indexing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_gather_with_dynamic_indexing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_gather_with_field">
<code class="descname">test_gather_with_field</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_gather_with_field" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_gather_with_invalid_field">
<code class="descname">test_gather_with_invalid_field</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_gather_with_invalid_field" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_gather_with_invalid_inputs">
<code class="descname">test_gather_with_invalid_inputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_gather_with_invalid_inputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_height_width">
<code class="descname">test_height_width</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_height_width" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_intersection">
<code class="descname">test_intersection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_intersection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_ioa">
<code class="descname">test_ioa</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_ioa" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_ioaworks_on_empty_inputs">
<code class="descname">test_ioaworks_on_empty_inputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_ioaworks_on_empty_inputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_iou">
<code class="descname">test_iou</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_iou" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_iouworks_on_empty_inputs">
<code class="descname">test_iouworks_on_empty_inputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_iouworks_on_empty_inputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_matched_intersection">
<code class="descname">test_matched_intersection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_matched_intersection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_matched_iou">
<code class="descname">test_matched_iou</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_matched_iou" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_pad_box_list">
<code class="descname">test_pad_box_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_pad_box_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_pairwise_distances">
<code class="descname">test_pairwise_distances</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_pairwise_distances" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_prune_completely_outside_window">
<code class="descname">test_prune_completely_outside_window</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_prune_completely_outside_window" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_prune_non_overlapping_boxes">
<code class="descname">test_prune_non_overlapping_boxes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_prune_non_overlapping_boxes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_prune_outside_window_filters_boxes_which_fall_outside_the_window">
<code class="descname">test_prune_outside_window_filters_boxes_which_fall_outside_the_window</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_prune_outside_window_filters_boxes_which_fall_outside_the_window" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_prune_small_boxes">
<code class="descname">test_prune_small_boxes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_prune_small_boxes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_prune_small_boxes_prunes_boxes_with_negative_side">
<code class="descname">test_prune_small_boxes_prunes_boxes_with_negative_side</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_prune_small_boxes_prunes_boxes_with_negative_side" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_scale">
<code class="descname">test_scale</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_scale" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_sort_by_field_ascending_order">
<code class="descname">test_sort_by_field_ascending_order</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_sort_by_field_ascending_order" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_sort_by_field_descending_order">
<code class="descname">test_sort_by_field_descending_order</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_sort_by_field_descending_order" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_sort_by_field_invalid_inputs">
<code class="descname">test_sort_by_field_invalid_inputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_sort_by_field_invalid_inputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxListOpsTest.test_visualize_boxes_in_image">
<code class="descname">test_visualize_boxes_in_image</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxListOpsTest.test_visualize_boxes_in_image" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.box_list_ops_test.BoxRefinementTest">
<em class="property">class </em><code class="descclassname">object_detection.core.box_list_ops_test.</code><code class="descname">BoxRefinementTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxRefinementTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxRefinementTest.test_box_voting">
<code class="descname">test_box_voting</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxRefinementTest.test_box_voting" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxRefinementTest.test_box_voting_fails_when_unmatched">
<code class="descname">test_box_voting_fails_when_unmatched</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxRefinementTest.test_box_voting_fails_when_unmatched" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxRefinementTest.test_box_voting_fails_with_negative_scores">
<code class="descname">test_box_voting_fails_with_negative_scores</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxRefinementTest.test_box_voting_fails_with_negative_scores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxRefinementTest.test_refine_boxes">
<code class="descname">test_refine_boxes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxRefinementTest.test_refine_boxes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.BoxRefinementTest.test_refine_boxes_multi_class">
<code class="descname">test_refine_boxes_multi_class</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.BoxRefinementTest.test_refine_boxes_multi_class" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.box_list_ops_test.ConcatenateTest">
<em class="property">class </em><code class="descclassname">object_detection.core.box_list_ops_test.</code><code class="descname">ConcatenateTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.ConcatenateTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.box_list_ops_test.ConcatenateTest.test_concatenate_is_correct">
<code class="descname">test_concatenate_is_correct</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.ConcatenateTest.test_concatenate_is_correct" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.ConcatenateTest.test_concatenate_with_incompatible_field_shapes">
<code class="descname">test_concatenate_with_incompatible_field_shapes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.ConcatenateTest.test_concatenate_with_incompatible_field_shapes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.ConcatenateTest.test_concatenate_with_missing_fields">
<code class="descname">test_concatenate_with_missing_fields</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.ConcatenateTest.test_concatenate_with_missing_fields" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.ConcatenateTest.test_invalid_input_box_list_list">
<code class="descname">test_invalid_input_box_list_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.ConcatenateTest.test_invalid_input_box_list_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.box_list_ops_test.CoordinatesConversionTest">
<em class="property">class </em><code class="descclassname">object_detection.core.box_list_ops_test.</code><code class="descname">CoordinatesConversionTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.CoordinatesConversionTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.box_list_ops_test.CoordinatesConversionTest.test_convert_to_absolute_and_back">
<code class="descname">test_convert_to_absolute_and_back</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.CoordinatesConversionTest.test_convert_to_absolute_and_back" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.CoordinatesConversionTest.test_convert_to_normalized_and_back">
<code class="descname">test_convert_to_normalized_and_back</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.CoordinatesConversionTest.test_convert_to_normalized_and_back" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.CoordinatesConversionTest.test_to_absolute_coordinates">
<code class="descname">test_to_absolute_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.CoordinatesConversionTest.test_to_absolute_coordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.CoordinatesConversionTest.test_to_absolute_coordinates_already_abolute">
<code class="descname">test_to_absolute_coordinates_already_abolute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.CoordinatesConversionTest.test_to_absolute_coordinates_already_abolute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.CoordinatesConversionTest.test_to_normalized_coordinates">
<code class="descname">test_to_normalized_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.CoordinatesConversionTest.test_to_normalized_coordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.CoordinatesConversionTest.test_to_normalized_coordinates_already_normalized">
<code class="descname">test_to_normalized_coordinates_already_normalized</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.CoordinatesConversionTest.test_to_normalized_coordinates_already_normalized" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.box_list_ops_test.NonMaxSuppressionTest">
<em class="property">class </em><code class="descclassname">object_detection.core.box_list_ops_test.</code><code class="descname">NonMaxSuppressionTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.NonMaxSuppressionTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.box_list_ops_test.NonMaxSuppressionTest.test_copy_extra_fields">
<code class="descname">test_copy_extra_fields</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.NonMaxSuppressionTest.test_copy_extra_fields" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.NonMaxSuppressionTest.test_select_at_most_thirty_boxes_from_three_clusters">
<code class="descname">test_select_at_most_thirty_boxes_from_three_clusters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.NonMaxSuppressionTest.test_select_at_most_thirty_boxes_from_three_clusters" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.NonMaxSuppressionTest.test_select_at_most_two_boxes_from_three_clusters">
<code class="descname">test_select_at_most_two_boxes_from_three_clusters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.NonMaxSuppressionTest.test_select_at_most_two_boxes_from_three_clusters" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.NonMaxSuppressionTest.test_select_from_ten_identical_boxes">
<code class="descname">test_select_from_ten_identical_boxes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.NonMaxSuppressionTest.test_select_from_ten_identical_boxes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.NonMaxSuppressionTest.test_select_from_three_clusters">
<code class="descname">test_select_from_three_clusters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.NonMaxSuppressionTest.test_select_from_three_clusters" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.NonMaxSuppressionTest.test_select_single_box">
<code class="descname">test_select_single_box</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.NonMaxSuppressionTest.test_select_single_box" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_ops_test.NonMaxSuppressionTest.test_with_invalid_scores_field">
<code class="descname">test_with_invalid_scores_field</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_ops_test.NonMaxSuppressionTest.test_with_invalid_scores_field" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.box_list_test">
<span id="object-detection-core-box-list-test-module"></span><h2>object_detection.core.box_list_test module<a class="headerlink" href="#module-object_detection.core.box_list_test" title="Permalink to this headline">¶</a></h2>
<p>Tests for object_detection.core.box_list.</p>
<dl class="class">
<dt id="object_detection.core.box_list_test.BoxListTest">
<em class="property">class </em><code class="descclassname">object_detection.core.box_list_test.</code><code class="descname">BoxListTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_test.BoxListTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<p>Tests for BoxList class.</p>
<dl class="method">
<dt id="object_detection.core.box_list_test.BoxListTest.test_as_tensor_dict">
<code class="descname">test_as_tensor_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_test.BoxListTest.test_as_tensor_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_test.BoxListTest.test_as_tensor_dict_missing_field">
<code class="descname">test_as_tensor_dict_missing_field</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_test.BoxListTest.test_as_tensor_dict_missing_field" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_test.BoxListTest.test_as_tensor_dict_with_features">
<code class="descname">test_as_tensor_dict_with_features</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_test.BoxListTest.test_as_tensor_dict_with_features" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_test.BoxListTest.test_box_list_invalid_inputs">
<code class="descname">test_box_list_invalid_inputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_test.BoxListTest.test_box_list_invalid_inputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_test.BoxListTest.test_create_box_list_with_dynamic_shape">
<code class="descname">test_create_box_list_with_dynamic_shape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_test.BoxListTest.test_create_box_list_with_dynamic_shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_test.BoxListTest.test_get_correct_center_coordinates_and_sizes">
<code class="descname">test_get_correct_center_coordinates_and_sizes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_test.BoxListTest.test_get_correct_center_coordinates_and_sizes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_test.BoxListTest.test_num_boxes">
<code class="descname">test_num_boxes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_test.BoxListTest.test_num_boxes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_test.BoxListTest.test_num_boxes_static">
<code class="descname">test_num_boxes_static</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_test.BoxListTest.test_num_boxes_static" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_test.BoxListTest.test_num_boxes_static_for_uninferrable_shape">
<code class="descname">test_num_boxes_static_for_uninferrable_shape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_test.BoxListTest.test_num_boxes_static_for_uninferrable_shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_list_test.BoxListTest.test_transpose_coordinates">
<code class="descname">test_transpose_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_list_test.BoxListTest.test_transpose_coordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.box_predictor">
<span id="object-detection-core-box-predictor-module"></span><h2>object_detection.core.box_predictor module<a class="headerlink" href="#module-object_detection.core.box_predictor" title="Permalink to this headline">¶</a></h2>
<p>Box predictor for object detectors.</p>
<p>Box predictors are classes that take a high level
image feature map as input and produce two predictions,
(1) a tensor encoding box locations, and
(2) a tensor encoding classes for each box.</p>
<p>These components are passed directly to loss functions
in our detection models.</p>
<p>These modules are separated from the main model since the same
few box predictor architectures are shared across many models.</p>
<dl class="class">
<dt id="object_detection.core.box_predictor.BoxPredictor">
<em class="property">class </em><code class="descclassname">object_detection.core.box_predictor.</code><code class="descname">BoxPredictor</code><span class="sig-paren">(</span><em>is_training</em>, <em>num_classes</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_predictor.BoxPredictor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>BoxPredictor.</p>
<dl class="attribute">
<dt id="object_detection.core.box_predictor.BoxPredictor.num_classes">
<code class="descname">num_classes</code><a class="headerlink" href="#object_detection.core.box_predictor.BoxPredictor.num_classes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_predictor.BoxPredictor.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>image_features</em>, <em>num_predictions_per_location</em>, <em>scope</em>, <em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_predictor.BoxPredictor.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes encoded object locations and corresponding confidences.</p>
<p>Takes a high level image feature map as input and produce two predictions,
(1) a tensor encoding box locations, and
(2) a tensor encoding class scores for each corresponding box.
In this interface, we only assume that two tensors are returned as output
and do not assume anything about their shapes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image_features</strong> &#8211; A float tensor of shape [batch_size, height, width,
channels] containing features for a batch of images.</li>
<li><strong>num_predictions_per_location</strong> &#8211; an integer representing the number of box
predictions to be made per spatial location in the feature map.</li>
<li><strong>scope</strong> &#8211; Variable and Op scope name.</li>
<li><strong>**params</strong> &#8211; Additional keyword arguments for specific implementations of
BoxPredictor.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>A dictionary containing at least the following tensors.</dt>
<dd><dl class="first last docutils">
<dt>box_encodings: A float tensor of shape</dt>
<dd><p class="first last">[batch_size, num_anchors, q, code_size] representing the location of
the objects, where q is 1 or the number of classes.</p>
</dd>
<dt>class_predictions_with_background: A float tensor of shape</dt>
<dd><p class="first last">[batch_size, num_anchors, num_classes + 1] representing the class
predictions for the proposals.</p>
</dd>
</dl>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.box_predictor.ConvolutionalBoxPredictor">
<em class="property">class </em><code class="descclassname">object_detection.core.box_predictor.</code><code class="descname">ConvolutionalBoxPredictor</code><span class="sig-paren">(</span><em>is_training</em>, <em>num_classes</em>, <em>conv_hyperparams</em>, <em>min_depth</em>, <em>max_depth</em>, <em>num_layers_before_predictor</em>, <em>use_dropout</em>, <em>dropout_keep_prob</em>, <em>kernel_size</em>, <em>box_code_size</em>, <em>apply_sigmoid_to_scores=False</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_predictor.ConvolutionalBoxPredictor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#object_detection.core.box_predictor.BoxPredictor" title="object_detection.core.box_predictor.BoxPredictor"><code class="xref py py-class docutils literal"><span class="pre">object_detection.core.box_predictor.BoxPredictor</span></code></a></p>
<p>Convolutional Box Predictor.</p>
<p>Optionally add an intermediate 1x1 convolutional layer after features and
predict in parallel branches box_encodings and
class_predictions_with_background.</p>
<p>Currently this box predictor assumes that predictions are &#8220;shared&#8221; across
classes &#8212; that is each anchor makes box predictions which do not depend
on class.</p>
</dd></dl>

<dl class="class">
<dt id="object_detection.core.box_predictor.MaskRCNNBoxPredictor">
<em class="property">class </em><code class="descclassname">object_detection.core.box_predictor.</code><code class="descname">MaskRCNNBoxPredictor</code><span class="sig-paren">(</span><em>is_training</em>, <em>num_classes</em>, <em>fc_hyperparams</em>, <em>use_dropout</em>, <em>dropout_keep_prob</em>, <em>box_code_size</em>, <em>conv_hyperparams=None</em>, <em>predict_instance_masks=False</em>, <em>mask_prediction_conv_depth=256</em>, <em>predict_keypoints=False</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_predictor.MaskRCNNBoxPredictor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#object_detection.core.box_predictor.BoxPredictor" title="object_detection.core.box_predictor.BoxPredictor"><code class="xref py py-class docutils literal"><span class="pre">object_detection.core.box_predictor.BoxPredictor</span></code></a></p>
<p>Mask R-CNN Box Predictor.</p>
<p>See Mask R-CNN: He, K., Gkioxari, G., Dollar, P., &amp; Girshick, R. (2017).
Mask R-CNN. arXiv preprint arXiv:1703.06870.</p>
<p>This is used for the second stage of the Mask R-CNN detector where proposals
cropped from an image are arranged along the batch dimension of the input
image_features tensor. Notice that locations are <em>not</em> shared across classes,
thus for each anchor, a separate prediction is made for each class.</p>
<p>In addition to predicting boxes and classes, optionally this class allows
predicting masks and/or keypoints inside detection boxes.</p>
<p>Currently this box predictor makes per-class predictions; that is, each
anchor makes a separate box prediction for each class.</p>
<dl class="attribute">
<dt id="object_detection.core.box_predictor.MaskRCNNBoxPredictor.num_classes">
<code class="descname">num_classes</code><a class="headerlink" href="#object_detection.core.box_predictor.MaskRCNNBoxPredictor.num_classes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.box_predictor.RfcnBoxPredictor">
<em class="property">class </em><code class="descclassname">object_detection.core.box_predictor.</code><code class="descname">RfcnBoxPredictor</code><span class="sig-paren">(</span><em>is_training</em>, <em>num_classes</em>, <em>conv_hyperparams</em>, <em>num_spatial_bins</em>, <em>depth</em>, <em>crop_size</em>, <em>box_code_size</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_predictor.RfcnBoxPredictor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#object_detection.core.box_predictor.BoxPredictor" title="object_detection.core.box_predictor.BoxPredictor"><code class="xref py py-class docutils literal"><span class="pre">object_detection.core.box_predictor.BoxPredictor</span></code></a></p>
<p>RFCN Box Predictor.</p>
<p>Applies a position sensitve ROI pooling on position sensitive feature maps to
predict classes and refined locations. See <a class="reference external" href="https://arxiv.org/abs/1605.06409">https://arxiv.org/abs/1605.06409</a>
for details.</p>
<p>This is used for the second stage of the RFCN meta architecture. Notice that
locations are <em>not</em> shared across classes, thus for each anchor, a separate
prediction is made for each class.</p>
<dl class="attribute">
<dt id="object_detection.core.box_predictor.RfcnBoxPredictor.num_classes">
<code class="descname">num_classes</code><a class="headerlink" href="#object_detection.core.box_predictor.RfcnBoxPredictor.num_classes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.box_predictor_test">
<span id="object-detection-core-box-predictor-test-module"></span><h2>object_detection.core.box_predictor_test module<a class="headerlink" href="#module-object_detection.core.box_predictor_test" title="Permalink to this headline">¶</a></h2>
<p>Tests for object_detection.core.box_predictor.</p>
<dl class="class">
<dt id="object_detection.core.box_predictor_test.ConvolutionalBoxPredictorTest">
<em class="property">class </em><code class="descclassname">object_detection.core.box_predictor_test.</code><code class="descname">ConvolutionalBoxPredictorTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_predictor_test.ConvolutionalBoxPredictorTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.box_predictor_test.ConvolutionalBoxPredictorTest.test_get_boxes_for_five_aspect_ratios_per_location">
<code class="descname">test_get_boxes_for_five_aspect_ratios_per_location</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_predictor_test.ConvolutionalBoxPredictorTest.test_get_boxes_for_five_aspect_ratios_per_location" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_predictor_test.ConvolutionalBoxPredictorTest.test_get_boxes_for_five_aspect_ratios_per_location_fully_convolutional">
<code class="descname">test_get_boxes_for_five_aspect_ratios_per_location_fully_convolutional</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_predictor_test.ConvolutionalBoxPredictorTest.test_get_boxes_for_five_aspect_ratios_per_location_fully_convolutional" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_predictor_test.ConvolutionalBoxPredictorTest.test_get_boxes_for_one_aspect_ratio_per_location">
<code class="descname">test_get_boxes_for_one_aspect_ratio_per_location</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_predictor_test.ConvolutionalBoxPredictorTest.test_get_boxes_for_one_aspect_ratio_per_location" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_predictor_test.ConvolutionalBoxPredictorTest.test_get_multi_class_predictions_for_five_aspect_ratios_per_location">
<code class="descname">test_get_multi_class_predictions_for_five_aspect_ratios_per_location</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_predictor_test.ConvolutionalBoxPredictorTest.test_get_multi_class_predictions_for_five_aspect_ratios_per_location" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.box_predictor_test.MaskRCNNBoxPredictorTest">
<em class="property">class </em><code class="descclassname">object_detection.core.box_predictor_test.</code><code class="descname">MaskRCNNBoxPredictorTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_predictor_test.MaskRCNNBoxPredictorTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.box_predictor_test.MaskRCNNBoxPredictorTest.test_do_not_return_instance_masks_and_keypoints_without_request">
<code class="descname">test_do_not_return_instance_masks_and_keypoints_without_request</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_predictor_test.MaskRCNNBoxPredictorTest.test_do_not_return_instance_masks_and_keypoints_without_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_predictor_test.MaskRCNNBoxPredictorTest.test_get_boxes_with_five_classes">
<code class="descname">test_get_boxes_with_five_classes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_predictor_test.MaskRCNNBoxPredictorTest.test_get_boxes_with_five_classes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_predictor_test.MaskRCNNBoxPredictorTest.test_get_instance_masks">
<code class="descname">test_get_instance_masks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_predictor_test.MaskRCNNBoxPredictorTest.test_get_instance_masks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_predictor_test.MaskRCNNBoxPredictorTest.test_value_error_on_predict_instance_masks_with_no_conv_hyperparms">
<code class="descname">test_value_error_on_predict_instance_masks_with_no_conv_hyperparms</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_predictor_test.MaskRCNNBoxPredictorTest.test_value_error_on_predict_instance_masks_with_no_conv_hyperparms" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.box_predictor_test.MaskRCNNBoxPredictorTest.test_value_error_on_predict_keypoints">
<code class="descname">test_value_error_on_predict_keypoints</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_predictor_test.MaskRCNNBoxPredictorTest.test_value_error_on_predict_keypoints" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.box_predictor_test.RfcnBoxPredictorTest">
<em class="property">class </em><code class="descclassname">object_detection.core.box_predictor_test.</code><code class="descname">RfcnBoxPredictorTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_predictor_test.RfcnBoxPredictorTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.box_predictor_test.RfcnBoxPredictorTest.test_get_correct_box_encoding_and_class_prediction_shapes">
<code class="descname">test_get_correct_box_encoding_and_class_prediction_shapes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.box_predictor_test.RfcnBoxPredictorTest.test_get_correct_box_encoding_and_class_prediction_shapes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.data_decoder">
<span id="object-detection-core-data-decoder-module"></span><h2>object_detection.core.data_decoder module<a class="headerlink" href="#module-object_detection.core.data_decoder" title="Permalink to this headline">¶</a></h2>
<p>Interface for data decoders.</p>
<p>Data decoders decode the input data and return a dictionary of tensors keyed by
the entries in core.reader.Fields.</p>
<dl class="class">
<dt id="object_detection.core.data_decoder.DataDecoder">
<em class="property">class </em><code class="descclassname">object_detection.core.data_decoder.</code><code class="descname">DataDecoder</code><a class="headerlink" href="#object_detection.core.data_decoder.DataDecoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Interface for data decoders.</p>
<dl class="method">
<dt id="object_detection.core.data_decoder.DataDecoder.decode">
<code class="descname">decode</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.data_decoder.DataDecoder.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single image and associated labels.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> &#8211; a string tensor holding a serialized protocol buffer corresponding
to data for a single image.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>a dictionary containing tensors. Possible keys are defined in</dt>
<dd>reader.Fields.</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tensor_dict</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.keypoint_ops">
<span id="object-detection-core-keypoint-ops-module"></span><h2>object_detection.core.keypoint_ops module<a class="headerlink" href="#module-object_detection.core.keypoint_ops" title="Permalink to this headline">¶</a></h2>
<p>Keypoint operations.</p>
<p>Keypoints are represented as tensors of shape [num_instances, num_keypoints, 2],
where the last dimension holds rank 2 tensors of the form [y, x] representing
the coordinates of the keypoint.</p>
<dl class="function">
<dt id="object_detection.core.keypoint_ops.change_coordinate_frame">
<code class="descclassname">object_detection.core.keypoint_ops.</code><code class="descname">change_coordinate_frame</code><span class="sig-paren">(</span><em>keypoints</em>, <em>window</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.keypoint_ops.change_coordinate_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes coordinate frame of the keypoints to be relative to window&#8217;s frame.</p>
<p>Given a window of the form [y_min, x_min, y_max, x_max], changes keypoint
coordinates from keypoints of shape [num_instances, num_keypoints, 2]
to be relative to this window.</p>
<p>An example use case is data augmentation: where we are given groundtruth
keypoints and would like to randomly crop the image to some window. In this
case we need to change the coordinate frame of each groundtruth keypoint to be
relative to this new window.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>keypoints</strong> &#8211; a tensor of shape [num_instances, num_keypoints, 2]</li>
<li><strong>window</strong> &#8211; a tensor of shape [4] representing the [y_min, x_min, y_max, x_max]
window we should change the coordinate frame to.</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a tensor of shape [num_instances, num_keypoints, 2]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">new_keypoints</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.keypoint_ops.clip_to_window">
<code class="descclassname">object_detection.core.keypoint_ops.</code><code class="descname">clip_to_window</code><span class="sig-paren">(</span><em>keypoints</em>, <em>window</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.keypoint_ops.clip_to_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Clips keypoints to a window.</p>
<p>This op clips any input keypoints to a window.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>keypoints</strong> &#8211; a tensor of shape [num_instances, num_keypoints, 2]</li>
<li><strong>window</strong> &#8211; a tensor of shape [4] representing the [y_min, x_min, y_max, x_max]
window to which the op should clip the keypoints.</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a tensor of shape [num_instances, num_keypoints, 2]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">new_keypoints</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.keypoint_ops.flip_horizontal">
<code class="descclassname">object_detection.core.keypoint_ops.</code><code class="descname">flip_horizontal</code><span class="sig-paren">(</span><em>keypoints</em>, <em>flip_point</em>, <em>flip_permutation</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.keypoint_ops.flip_horizontal" title="Permalink to this definition">¶</a></dt>
<dd><p>Flips the keypoints horizontally around the flip_point.</p>
<p>This operation flips the x coordinate for each keypoint around the flip_point
and also permutes the keypoints in a manner specified by flip_permutation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>keypoints</strong> &#8211; a tensor of shape [num_instances, num_keypoints, 2]</li>
<li><strong>flip_point</strong> &#8211; (float) scalar tensor representing the x coordinate to flip the
keypoints around.</li>
<li><strong>flip_permutation</strong> &#8211; rank 1 int32 tensor containing the keypoint flip
permutation. This specifies the mapping from original keypoint indices
to the flipped keypoint indices. This is used primarily for keypoints
that are not reflection invariant. E.g. Suppose there are 3 keypoints
representing [&#8216;head&#8217;, &#8216;right_eye&#8217;, &#8216;left_eye&#8217;], then a logical choice for
flip_permutation might be [0, 2, 1] since we want to swap the &#8216;left_eye&#8217;
and &#8216;right_eye&#8217; after a horizontal flip.</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a tensor of shape [num_instances, num_keypoints, 2]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">new_keypoints</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.keypoint_ops.prune_outside_window">
<code class="descclassname">object_detection.core.keypoint_ops.</code><code class="descname">prune_outside_window</code><span class="sig-paren">(</span><em>keypoints</em>, <em>window</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.keypoint_ops.prune_outside_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Prunes keypoints that fall outside a given window.</p>
<p>This function replaces keypoints that fall outside the given window with nan.
See also clip_to_window which clips any keypoints that fall outside the given
window.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>keypoints</strong> &#8211; a tensor of shape [num_instances, num_keypoints, 2]</li>
<li><strong>window</strong> &#8211; a tensor of shape [4] representing the [y_min, x_min, y_max, x_max]
window outside of which the op should prune the keypoints.</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a tensor of shape [num_instances, num_keypoints, 2]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">new_keypoints</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.keypoint_ops.scale">
<code class="descclassname">object_detection.core.keypoint_ops.</code><code class="descname">scale</code><span class="sig-paren">(</span><em>keypoints</em>, <em>y_scale</em>, <em>x_scale</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.keypoint_ops.scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Scales keypoint coordinates in x and y dimensions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>keypoints</strong> &#8211; a tensor of shape [num_instances, num_keypoints, 2]</li>
<li><strong>y_scale</strong> &#8211; (float) scalar tensor</li>
<li><strong>x_scale</strong> &#8211; (float) scalar tensor</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a tensor of shape [num_instances, num_keypoints, 2]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">new_keypoints</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.keypoint_ops.to_absolute_coordinates">
<code class="descclassname">object_detection.core.keypoint_ops.</code><code class="descname">to_absolute_coordinates</code><span class="sig-paren">(</span><em>keypoints</em>, <em>height</em>, <em>width</em>, <em>check_range=True</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.keypoint_ops.to_absolute_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts normalized keypoint coordinates to absolute pixel coordinates.</p>
<p>This function raises an assertion failed error when the maximum keypoint
coordinate value is larger than 1.01 (in which case coordinates are already
absolute).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>keypoints</strong> &#8211; A tensor of shape [num_instances, num_keypoints, 2]</li>
<li><strong>height</strong> &#8211; Maximum value for y coordinate of absolute keypoint coordinates.</li>
<li><strong>width</strong> &#8211; Maximum value for x coordinate of absolute keypoint coordinates.</li>
<li><strong>check_range</strong> &#8211; If True, checks if the coordinates are normalized or not.</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">tensor of shape [num_instances, num_keypoints, 2] with absolute coordinates
in terms of the image size.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.keypoint_ops.to_normalized_coordinates">
<code class="descclassname">object_detection.core.keypoint_ops.</code><code class="descname">to_normalized_coordinates</code><span class="sig-paren">(</span><em>keypoints</em>, <em>height</em>, <em>width</em>, <em>check_range=True</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.keypoint_ops.to_normalized_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts absolute keypoint coordinates to normalized coordinates in [0, 1].</p>
<dl class="docutils">
<dt>Usually one uses the dynamic shape of the image or conv-layer tensor:</dt>
<dd><dl class="first last docutils">
<dt>keypoints = keypoint_ops.to_normalized_coordinates(keypoints,</dt>
<dd>tf.shape(images)[1],
tf.shape(images)[2]),</dd>
</dl>
</dd>
</dl>
<p>This function raises an assertion failed error at graph execution time when
the maximum coordinate is smaller than 1.01 (which means that coordinates are
already normalized). The value 1.01 is to deal with small rounding errors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>keypoints</strong> &#8211; A tensor of shape [num_instances, num_keypoints, 2].</li>
<li><strong>height</strong> &#8211; Maximum value for y coordinate of absolute keypoint coordinates.</li>
<li><strong>width</strong> &#8211; Maximum value for x coordinate of absolute keypoint coordinates.</li>
<li><strong>check_range</strong> &#8211; If True, checks if the coordinates are normalized.</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">tensor of shape [num_instances, num_keypoints, 2] with normalized
coordinates in [0, 1].</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-object_detection.core.keypoint_ops_test">
<span id="object-detection-core-keypoint-ops-test-module"></span><h2>object_detection.core.keypoint_ops_test module<a class="headerlink" href="#module-object_detection.core.keypoint_ops_test" title="Permalink to this headline">¶</a></h2>
<p>Tests for object_detection.core.keypoint_ops.</p>
<dl class="class">
<dt id="object_detection.core.keypoint_ops_test.KeypointOpsTest">
<em class="property">class </em><code class="descclassname">object_detection.core.keypoint_ops_test.</code><code class="descname">KeypointOpsTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.keypoint_ops_test.KeypointOpsTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<p>Tests for common keypoint operations.</p>
<dl class="method">
<dt id="object_detection.core.keypoint_ops_test.KeypointOpsTest.test_change_coordinate_frame">
<code class="descname">test_change_coordinate_frame</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.keypoint_ops_test.KeypointOpsTest.test_change_coordinate_frame" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.keypoint_ops_test.KeypointOpsTest.test_clip_to_window">
<code class="descname">test_clip_to_window</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.keypoint_ops_test.KeypointOpsTest.test_clip_to_window" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.keypoint_ops_test.KeypointOpsTest.test_flip_horizontal">
<code class="descname">test_flip_horizontal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.keypoint_ops_test.KeypointOpsTest.test_flip_horizontal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.keypoint_ops_test.KeypointOpsTest.test_prune_outside_window">
<code class="descname">test_prune_outside_window</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.keypoint_ops_test.KeypointOpsTest.test_prune_outside_window" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.keypoint_ops_test.KeypointOpsTest.test_scale">
<code class="descname">test_scale</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.keypoint_ops_test.KeypointOpsTest.test_scale" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.keypoint_ops_test.KeypointOpsTest.test_to_absolute_coordinates">
<code class="descname">test_to_absolute_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.keypoint_ops_test.KeypointOpsTest.test_to_absolute_coordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.keypoint_ops_test.KeypointOpsTest.test_to_absolute_coordinates_already_absolute">
<code class="descname">test_to_absolute_coordinates_already_absolute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.keypoint_ops_test.KeypointOpsTest.test_to_absolute_coordinates_already_absolute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.keypoint_ops_test.KeypointOpsTest.test_to_normalized_coordinates">
<code class="descname">test_to_normalized_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.keypoint_ops_test.KeypointOpsTest.test_to_normalized_coordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.keypoint_ops_test.KeypointOpsTest.test_to_normalized_coordinates_already_normalized">
<code class="descname">test_to_normalized_coordinates_already_normalized</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.keypoint_ops_test.KeypointOpsTest.test_to_normalized_coordinates_already_normalized" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.losses">
<span id="object-detection-core-losses-module"></span><h2>object_detection.core.losses module<a class="headerlink" href="#module-object_detection.core.losses" title="Permalink to this headline">¶</a></h2>
<p>Classification and regression loss functions for object detection.</p>
<dl class="docutils">
<dt>Localization losses:</dt>
<dd><ul class="first last simple">
<li>WeightedL2LocalizationLoss</li>
<li>WeightedSmoothL1LocalizationLoss</li>
<li>WeightedIOULocalizationLoss</li>
</ul>
</dd>
<dt>Classification losses:</dt>
<dd><ul class="first last simple">
<li>WeightedSigmoidClassificationLoss</li>
<li>WeightedSoftmaxClassificationLoss</li>
<li>BootstrappedSigmoidClassificationLoss</li>
</ul>
</dd>
</dl>
<dl class="class">
<dt id="object_detection.core.losses.BootstrappedSigmoidClassificationLoss">
<em class="property">class </em><code class="descclassname">object_detection.core.losses.</code><code class="descname">BootstrappedSigmoidClassificationLoss</code><span class="sig-paren">(</span><em>alpha</em>, <em>bootstrap_type='soft'</em>, <em>anchorwise_output=False</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses.BootstrappedSigmoidClassificationLoss" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#object_detection.core.losses.Loss" title="object_detection.core.losses.Loss"><code class="xref py py-class docutils literal"><span class="pre">object_detection.core.losses.Loss</span></code></a></p>
<p>Bootstrapped sigmoid cross entropy classification loss function.</p>
<p>This loss uses a convex combination of training labels and the current model&#8217;s
predictions as training targets in the classification loss. The idea is that
as the model improves over time, its predictions can be trusted more and we
can use these predictions to mitigate the damage of noisy/incorrect labels,
because incorrect labels are likely to be eventually highly inconsistent with
other stimuli predicted to have the same label by the model.</p>
<p>In &#8220;soft&#8221; bootstrapping, we use all predicted class probabilities, whereas in
&#8220;hard&#8221; bootstrapping, we use the single class favored by the model.</p>
<p>See also Training Deep Neural Networks On Noisy Labels with Bootstrapping by
Reed et al. (ICLR 2015).</p>
</dd></dl>

<dl class="class">
<dt id="object_detection.core.losses.HardExampleMiner">
<em class="property">class </em><code class="descclassname">object_detection.core.losses.</code><code class="descname">HardExampleMiner</code><span class="sig-paren">(</span><em>num_hard_examples=64</em>, <em>iou_threshold=0.7</em>, <em>loss_type='both'</em>, <em>cls_loss_weight=0.05</em>, <em>loc_loss_weight=0.06</em>, <em>max_negatives_per_positive=None</em>, <em>min_negatives_per_image=0</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses.HardExampleMiner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Hard example mining for regions in a list of images.</p>
<p>Implements hard example mining to select a subset of regions to be
back-propagated. For each image, selects the regions with highest losses,
subject to the condition that a newly selected region cannot have
an IOU &gt; iou_threshold with any of the previously selected regions.
This can be achieved by re-using a greedy non-maximum suppression algorithm.
A constraint on the number of negatives mined per positive region can also be
enforced.</p>
<p>Reference papers: &#8220;Training Region-based Object Detectors with Online
Hard Example Mining&#8221; (CVPR 2016) by Srivastava et al., and
&#8220;SSD: Single Shot MultiBox Detector&#8221; (ECCV 2016) by Liu et al.</p>
<dl class="method">
<dt id="object_detection.core.losses.HardExampleMiner.summarize">
<code class="descname">summarize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses.HardExampleMiner.summarize" title="Permalink to this definition">¶</a></dt>
<dd><p>Summarize the number of positives and negatives after mining.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.losses.Loss">
<em class="property">class </em><code class="descclassname">object_detection.core.losses.</code><code class="descname">Loss</code><a class="headerlink" href="#object_detection.core.losses.Loss" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Abstract base class for loss functions.</p>
</dd></dl>

<dl class="class">
<dt id="object_detection.core.losses.WeightedIOULocalizationLoss">
<em class="property">class </em><code class="descclassname">object_detection.core.losses.</code><code class="descname">WeightedIOULocalizationLoss</code><a class="headerlink" href="#object_detection.core.losses.WeightedIOULocalizationLoss" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#object_detection.core.losses.Loss" title="object_detection.core.losses.Loss"><code class="xref py py-class docutils literal"><span class="pre">object_detection.core.losses.Loss</span></code></a></p>
<p>IOU localization loss function.</p>
<p>Sums the IOU for corresponding pairs of predicted/groundtruth boxes
and for each pair assign a loss of 1 - IOU.  We then compute a weighted
sum over all pairs which is returned as the total loss.</p>
</dd></dl>

<dl class="class">
<dt id="object_detection.core.losses.WeightedL2LocalizationLoss">
<em class="property">class </em><code class="descclassname">object_detection.core.losses.</code><code class="descname">WeightedL2LocalizationLoss</code><span class="sig-paren">(</span><em>anchorwise_output=False</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses.WeightedL2LocalizationLoss" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#object_detection.core.losses.Loss" title="object_detection.core.losses.Loss"><code class="xref py py-class docutils literal"><span class="pre">object_detection.core.losses.Loss</span></code></a></p>
<p>L2 localization loss function with anchorwise output support.</p>
<p>Loss[b,a] = .5 * ||weights[b,a] * (prediction[b,a,:] - target[b,a,:])||^2</p>
</dd></dl>

<dl class="class">
<dt id="object_detection.core.losses.WeightedSigmoidClassificationLoss">
<em class="property">class </em><code class="descclassname">object_detection.core.losses.</code><code class="descname">WeightedSigmoidClassificationLoss</code><span class="sig-paren">(</span><em>anchorwise_output=False</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses.WeightedSigmoidClassificationLoss" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#object_detection.core.losses.Loss" title="object_detection.core.losses.Loss"><code class="xref py py-class docutils literal"><span class="pre">object_detection.core.losses.Loss</span></code></a></p>
<p>Sigmoid cross entropy classification loss function.</p>
</dd></dl>

<dl class="class">
<dt id="object_detection.core.losses.WeightedSmoothL1LocalizationLoss">
<em class="property">class </em><code class="descclassname">object_detection.core.losses.</code><code class="descname">WeightedSmoothL1LocalizationLoss</code><span class="sig-paren">(</span><em>anchorwise_output=False</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses.WeightedSmoothL1LocalizationLoss" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#object_detection.core.losses.Loss" title="object_detection.core.losses.Loss"><code class="xref py py-class docutils literal"><span class="pre">object_detection.core.losses.Loss</span></code></a></p>
<p>Smooth L1 localization loss function.</p>
<p>The smooth L1_loss is defined elementwise as .5 x^2 if <a href="#id5"><span class="problematic" id="id6">|x|&lt;1 and |x|</span></a>-.5
otherwise, where x is the difference between predictions and target.</p>
<p>See also Equation (3) in the Fast R-CNN paper by Ross Girshick (ICCV 2015)</p>
</dd></dl>

<dl class="class">
<dt id="object_detection.core.losses.WeightedSoftmaxClassificationLoss">
<em class="property">class </em><code class="descclassname">object_detection.core.losses.</code><code class="descname">WeightedSoftmaxClassificationLoss</code><span class="sig-paren">(</span><em>anchorwise_output=False</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses.WeightedSoftmaxClassificationLoss" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#object_detection.core.losses.Loss" title="object_detection.core.losses.Loss"><code class="xref py py-class docutils literal"><span class="pre">object_detection.core.losses.Loss</span></code></a></p>
<p>Softmax loss function.</p>
</dd></dl>

</div>
<div class="section" id="module-object_detection.core.losses_test">
<span id="object-detection-core-losses-test-module"></span><h2>object_detection.core.losses_test module<a class="headerlink" href="#module-object_detection.core.losses_test" title="Permalink to this headline">¶</a></h2>
<p>Tests for google3.research.vale.object_detection.losses.</p>
<dl class="class">
<dt id="object_detection.core.losses_test.BootstrappedSigmoidClassificationLossTest">
<em class="property">class </em><code class="descclassname">object_detection.core.losses_test.</code><code class="descname">BootstrappedSigmoidClassificationLossTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.BootstrappedSigmoidClassificationLossTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.losses_test.BootstrappedSigmoidClassificationLossTest.testReturnsCorrectAnchorWiseLoss">
<code class="descname">testReturnsCorrectAnchorWiseLoss</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.BootstrappedSigmoidClassificationLossTest.testReturnsCorrectAnchorWiseLoss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.losses_test.BootstrappedSigmoidClassificationLossTest.testReturnsCorrectLossHardBootstrapping">
<code class="descname">testReturnsCorrectLossHardBootstrapping</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.BootstrappedSigmoidClassificationLossTest.testReturnsCorrectLossHardBootstrapping" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.losses_test.BootstrappedSigmoidClassificationLossTest.testReturnsCorrectLossSoftBootstrapping">
<code class="descname">testReturnsCorrectLossSoftBootstrapping</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.BootstrappedSigmoidClassificationLossTest.testReturnsCorrectLossSoftBootstrapping" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.losses_test.HardExampleMinerTest">
<em class="property">class </em><code class="descclassname">object_detection.core.losses_test.</code><code class="descname">HardExampleMinerTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.HardExampleMinerTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.losses_test.HardExampleMinerTest.testEnforceNegativesPerPositiveRatio">
<code class="descname">testEnforceNegativesPerPositiveRatio</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.HardExampleMinerTest.testEnforceNegativesPerPositiveRatio" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.losses_test.HardExampleMinerTest.testEnforceNegativesPerPositiveRatioWithMinNegativesPerImage">
<code class="descname">testEnforceNegativesPerPositiveRatioWithMinNegativesPerImage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.HardExampleMinerTest.testEnforceNegativesPerPositiveRatioWithMinNegativesPerImage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.losses_test.HardExampleMinerTest.testHardMiningNMS">
<code class="descname">testHardMiningNMS</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.HardExampleMinerTest.testHardMiningNMS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.losses_test.HardExampleMinerTest.testHardMiningWithBothLossType">
<code class="descname">testHardMiningWithBothLossType</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.HardExampleMinerTest.testHardMiningWithBothLossType" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.losses_test.HardExampleMinerTest.testHardMiningWithSingleLossType">
<code class="descname">testHardMiningWithSingleLossType</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.HardExampleMinerTest.testHardMiningWithSingleLossType" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.losses_test.WeightedIOULocalizationLossTest">
<em class="property">class </em><code class="descclassname">object_detection.core.losses_test.</code><code class="descname">WeightedIOULocalizationLossTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.WeightedIOULocalizationLossTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.losses_test.WeightedIOULocalizationLossTest.testReturnsCorrectLoss">
<code class="descname">testReturnsCorrectLoss</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.WeightedIOULocalizationLossTest.testReturnsCorrectLoss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.losses_test.WeightedL2LocalizationLossTest">
<em class="property">class </em><code class="descclassname">object_detection.core.losses_test.</code><code class="descname">WeightedL2LocalizationLossTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.WeightedL2LocalizationLossTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.losses_test.WeightedL2LocalizationLossTest.testReturnsCorrectAnchorwiseLoss">
<code class="descname">testReturnsCorrectAnchorwiseLoss</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.WeightedL2LocalizationLossTest.testReturnsCorrectAnchorwiseLoss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.losses_test.WeightedL2LocalizationLossTest.testReturnsCorrectLoss">
<code class="descname">testReturnsCorrectLoss</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.WeightedL2LocalizationLossTest.testReturnsCorrectLoss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.losses_test.WeightedL2LocalizationLossTest.testReturnsCorrectLossSum">
<code class="descname">testReturnsCorrectLossSum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.WeightedL2LocalizationLossTest.testReturnsCorrectLossSum" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.losses_test.WeightedL2LocalizationLossTest.testReturnsCorrectNanLoss">
<code class="descname">testReturnsCorrectNanLoss</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.WeightedL2LocalizationLossTest.testReturnsCorrectNanLoss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.losses_test.WeightedSigmoidClassificationLossTest">
<em class="property">class </em><code class="descclassname">object_detection.core.losses_test.</code><code class="descname">WeightedSigmoidClassificationLossTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.WeightedSigmoidClassificationLossTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.losses_test.WeightedSigmoidClassificationLossTest.testReturnsCorrectAnchorWiseLoss">
<code class="descname">testReturnsCorrectAnchorWiseLoss</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.WeightedSigmoidClassificationLossTest.testReturnsCorrectAnchorWiseLoss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.losses_test.WeightedSigmoidClassificationLossTest.testReturnsCorrectLoss">
<code class="descname">testReturnsCorrectLoss</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.WeightedSigmoidClassificationLossTest.testReturnsCorrectLoss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.losses_test.WeightedSigmoidClassificationLossTest.testReturnsCorrectLossWithClassIndices">
<code class="descname">testReturnsCorrectLossWithClassIndices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.WeightedSigmoidClassificationLossTest.testReturnsCorrectLossWithClassIndices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.losses_test.WeightedSmoothL1LocalizationLossTest">
<em class="property">class </em><code class="descclassname">object_detection.core.losses_test.</code><code class="descname">WeightedSmoothL1LocalizationLossTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.WeightedSmoothL1LocalizationLossTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.losses_test.WeightedSmoothL1LocalizationLossTest.testReturnsCorrectLoss">
<code class="descname">testReturnsCorrectLoss</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.WeightedSmoothL1LocalizationLossTest.testReturnsCorrectLoss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.losses_test.WeightedSoftmaxClassificationLossTest">
<em class="property">class </em><code class="descclassname">object_detection.core.losses_test.</code><code class="descname">WeightedSoftmaxClassificationLossTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.WeightedSoftmaxClassificationLossTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.losses_test.WeightedSoftmaxClassificationLossTest.testReturnsCorrectAnchorWiseLoss">
<code class="descname">testReturnsCorrectAnchorWiseLoss</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.WeightedSoftmaxClassificationLossTest.testReturnsCorrectAnchorWiseLoss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.losses_test.WeightedSoftmaxClassificationLossTest.testReturnsCorrectLoss">
<code class="descname">testReturnsCorrectLoss</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.losses_test.WeightedSoftmaxClassificationLossTest.testReturnsCorrectLoss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.matcher">
<span id="object-detection-core-matcher-module"></span><h2>object_detection.core.matcher module<a class="headerlink" href="#module-object_detection.core.matcher" title="Permalink to this headline">¶</a></h2>
<p>Matcher interface and Match class.</p>
<p>This module defines the Matcher interface and the Match object. The job of the
matcher is to match row and column indices based on the similarity matrix and
other optional parameters. Each column is matched to at most one row. There
are three possibilities for the matching:</p>
<ol class="arabic simple">
<li>match: A column matches a row.</li>
<li>no_match: A column does not match any row.</li>
<li>ignore: A column that is neither &#8216;match&#8217; nor no_match.</li>
</ol>
<p>The ignore case is regularly encountered in object detection: when an anchor has
a relatively small overlap with a ground-truth box, one neither wants to
consider this box a positive example (match) nor a negative example (no match).</p>
<p>The Match class is used to store the match results and it provides simple apis
to query the results.</p>
<dl class="class">
<dt id="object_detection.core.matcher.Match">
<em class="property">class </em><code class="descclassname">object_detection.core.matcher.</code><code class="descname">Match</code><span class="sig-paren">(</span><em>match_results</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher.Match" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class to store results from the matcher.</p>
<p>This class is used to store the results from the matcher. It provides
convenient methods to query the matching results.</p>
<dl class="method">
<dt id="object_detection.core.matcher.Match.ignored_column_indicator">
<code class="descname">ignored_column_indicator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher.Match.ignored_column_indicator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns boolean column indicator where True means the colum is ignored.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">boolean vector which is True for all ignored column
indices.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">column_indicator</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.matcher.Match.ignored_column_indices">
<code class="descname">ignored_column_indices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher.Match.ignored_column_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns column indices that are ignored (neither Matched nor Unmatched).</p>
<p>The indices returned by this op are always sorted in increasing order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">int32 tensor of shape [K] with column indices.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">column_indices</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.matcher.Match.match_results">
<code class="descname">match_results</code><a class="headerlink" href="#object_detection.core.matcher.Match.match_results" title="Permalink to this definition">¶</a></dt>
<dd><p>The accessor for match results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the tensor which encodes the match results.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.matcher.Match.matched_column_indicator">
<code class="descname">matched_column_indicator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher.Match.matched_column_indicator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns column indices that are matched.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">int32 tensor of shape [K] with column indices.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">column_indices</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.matcher.Match.matched_column_indices">
<code class="descname">matched_column_indices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher.Match.matched_column_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns column indices that match to some row.</p>
<p>The indices returned by this op are always sorted in increasing order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">int32 tensor of shape [K] with column indices.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">column_indices</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.matcher.Match.matched_row_indices">
<code class="descname">matched_row_indices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher.Match.matched_row_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns row indices that match some column.</p>
<p>The indices returned by this op are ordered so as to be in correspondence
with the output of matched_column_indicator().  For example if
self.matched_column_indicator() is [0,2], and self.matched_row_indices() is
[7, 3], then we know that column 0 was matched to row 7 and column 2 was
matched to row 3.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">int32 tensor of shape [K] with row indices.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">row_indices</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.matcher.Match.num_ignored_columns">
<code class="descname">num_ignored_columns</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher.Match.num_ignored_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns number (int32 scalar tensor) of matched columns.</p>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.matcher.Match.num_matched_columns">
<code class="descname">num_matched_columns</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher.Match.num_matched_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns number (int32 scalar tensor) of matched columns.</p>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.matcher.Match.num_unmatched_columns">
<code class="descname">num_unmatched_columns</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher.Match.num_unmatched_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns number (int32 scalar tensor) of unmatched columns.</p>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.matcher.Match.unmatched_column_indicator">
<code class="descname">unmatched_column_indicator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher.Match.unmatched_column_indicator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns column indices that are unmatched.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">int32 tensor of shape [K] with column indices.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">column_indices</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.matcher.Match.unmatched_column_indices">
<code class="descname">unmatched_column_indices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher.Match.unmatched_column_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns column indices that do not match any row.</p>
<p>The indices returned by this op are always sorted in increasing order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">int32 tensor of shape [K] with column indices.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">column_indices</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.matcher.Match.unmatched_or_ignored_column_indices">
<code class="descname">unmatched_or_ignored_column_indices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher.Match.unmatched_or_ignored_column_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns column indices that are unmatched or ignored.</p>
<p>The indices returned by this op are always sorted in increasing order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">int32 tensor of shape [K] with column indices.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">column_indices</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.matcher.Matcher">
<em class="property">class </em><code class="descclassname">object_detection.core.matcher.</code><code class="descname">Matcher</code><a class="headerlink" href="#object_detection.core.matcher.Matcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Abstract base class for matcher.</p>
<dl class="method">
<dt id="object_detection.core.matcher.Matcher.match">
<code class="descname">match</code><span class="sig-paren">(</span><em>similarity_matrix</em>, <em>scope=None</em>, <em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher.Matcher.match" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes matches among row and column indices and returns the result.</p>
<p>Computes matches among the row and column indices based on the similarity
matrix and optional arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>similarity_matrix</strong> &#8211; Float tensor of shape [N, M] with pairwise similarity
where higher value means more similar.</li>
<li><strong>scope</strong> &#8211; Op scope name. Defaults to &#8216;Match&#8217; if None.</li>
<li><strong>**params</strong> &#8211; Additional keyword arguments for specific implementations of
the Matcher.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A Match object with the results of matching.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.matcher_test">
<span id="object-detection-core-matcher-test-module"></span><h2>object_detection.core.matcher_test module<a class="headerlink" href="#module-object_detection.core.matcher_test" title="Permalink to this headline">¶</a></h2>
<p>Tests for object_detection.core.matcher.</p>
<dl class="class">
<dt id="object_detection.core.matcher_test.AnchorMatcherTest">
<em class="property">class </em><code class="descclassname">object_detection.core.matcher_test.</code><code class="descname">AnchorMatcherTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher_test.AnchorMatcherTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.matcher_test.AnchorMatcherTest.testGetCorrectMatchedRowIndices">
<code class="descname">testGetCorrectMatchedRowIndices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher_test.AnchorMatcherTest.testGetCorrectMatchedRowIndices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.matcher_test.AnchorMatcherTest.testGetCorrectUnmatchedColumnIndices">
<code class="descname">testGetCorrectUnmatchedColumnIndices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher_test.AnchorMatcherTest.testGetCorrectUnmatchedColumnIndices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.matcher_test.AnchorMatcherTest.test_all_columns_accounted_for">
<code class="descname">test_all_columns_accounted_for</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher_test.AnchorMatcherTest.test_all_columns_accounted_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.matcher_test.AnchorMatcherTest.test_get_correct_counts">
<code class="descname">test_get_correct_counts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher_test.AnchorMatcherTest.test_get_correct_counts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.matcher_test.AnchorMatcherTest.test_get_correct_ignored_column_indicator">
<code class="descname">test_get_correct_ignored_column_indicator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher_test.AnchorMatcherTest.test_get_correct_ignored_column_indicator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.matcher_test.AnchorMatcherTest.test_get_correct_ignored_column_indices">
<code class="descname">test_get_correct_ignored_column_indices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher_test.AnchorMatcherTest.test_get_correct_ignored_column_indices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.matcher_test.AnchorMatcherTest.test_get_correct_matched_columnIndices">
<code class="descname">test_get_correct_matched_columnIndices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher_test.AnchorMatcherTest.test_get_correct_matched_columnIndices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.matcher_test.AnchorMatcherTest.test_get_correct_matched_column_indicator">
<code class="descname">test_get_correct_matched_column_indicator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher_test.AnchorMatcherTest.test_get_correct_matched_column_indicator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.matcher_test.AnchorMatcherTest.test_get_correct_unmatched_column_indicator">
<code class="descname">test_get_correct_unmatched_column_indicator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher_test.AnchorMatcherTest.test_get_correct_unmatched_column_indicator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.matcher_test.AnchorMatcherTest.test_get_correct_unmatched_ignored_column_indices">
<code class="descname">test_get_correct_unmatched_ignored_column_indices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.matcher_test.AnchorMatcherTest.test_get_correct_unmatched_ignored_column_indices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.minibatch_sampler">
<span id="object-detection-core-minibatch-sampler-module"></span><h2>object_detection.core.minibatch_sampler module<a class="headerlink" href="#module-object_detection.core.minibatch_sampler" title="Permalink to this headline">¶</a></h2>
<p>Base minibatch sampler module.</p>
<p>The job of the minibatch_sampler is to subsample a minibatch based on some
criterion.</p>
<dl class="docutils">
<dt>The main function call is:</dt>
<dd>subsample(indicator, batch_size, <a href="#id3"><span class="problematic" id="id4">**</span></a>params).</dd>
</dl>
<p>Indicator is a 1d boolean tensor where True denotes which examples can be
sampled. It returns a boolean indicator where True denotes an example has been
sampled..</p>
<p>Subclasses should implement the Subsample function and can make use of the
&#64;staticmethod SubsampleIndicator.</p>
<dl class="class">
<dt id="object_detection.core.minibatch_sampler.MinibatchSampler">
<em class="property">class </em><code class="descclassname">object_detection.core.minibatch_sampler.</code><code class="descname">MinibatchSampler</code><a class="headerlink" href="#object_detection.core.minibatch_sampler.MinibatchSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Abstract base class for subsampling minibatches.</p>
<dl class="method">
<dt id="object_detection.core.minibatch_sampler.MinibatchSampler.subsample">
<code class="descname">subsample</code><span class="sig-paren">(</span><em>indicator</em>, <em>batch_size</em>, <em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.minibatch_sampler.MinibatchSampler.subsample" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns subsample of entries in indicator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>indicator</strong> &#8211; boolean tensor of shape [N] whose True entries can be sampled.</li>
<li><strong>batch_size</strong> &#8211; desired batch size.</li>
<li><strong>**params</strong> &#8211; additional keyword arguments for specific implementations of
the MinibatchSampler.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">boolean tensor of shape [N] whose True entries have been
sampled. If sum(indicator) &gt;= batch_size, sum(is_sampled) = batch_size</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">sample_indicator</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="object_detection.core.minibatch_sampler.MinibatchSampler.subsample_indicator">
<em class="property">static </em><code class="descname">subsample_indicator</code><span class="sig-paren">(</span><em>indicator</em>, <em>num_samples</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.minibatch_sampler.MinibatchSampler.subsample_indicator" title="Permalink to this definition">¶</a></dt>
<dd><p>Subsample indicator vector.</p>
<p>Given a boolean indicator vector with M elements set to <cite>True</cite>, the function
assigns all but <cite>num_samples</cite> of these previously <cite>True</cite> elements to
<cite>False</cite>. If <cite>num_samples</cite> is greater than M, the original indicator vector
is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>indicator</strong> &#8211; a 1-dimensional boolean tensor indicating which elements
are allowed to be sampled and which are not.</li>
<li><strong>num_samples</strong> &#8211; int32 scalar tensor</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a boolean tensor with the same shape as input (indicator) tensor</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.minibatch_sampler_test">
<span id="object-detection-core-minibatch-sampler-test-module"></span><h2>object_detection.core.minibatch_sampler_test module<a class="headerlink" href="#module-object_detection.core.minibatch_sampler_test" title="Permalink to this headline">¶</a></h2>
<p>Tests for google3.research.vale.object_detection.minibatch_sampler.</p>
<dl class="class">
<dt id="object_detection.core.minibatch_sampler_test.MinibatchSamplerTest">
<em class="property">class </em><code class="descclassname">object_detection.core.minibatch_sampler_test.</code><code class="descname">MinibatchSamplerTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.minibatch_sampler_test.MinibatchSamplerTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.minibatch_sampler_test.MinibatchSamplerTest.test_subsample_indicator_when_indicator_all_false">
<code class="descname">test_subsample_indicator_when_indicator_all_false</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.minibatch_sampler_test.MinibatchSamplerTest.test_subsample_indicator_when_indicator_all_false" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.minibatch_sampler_test.MinibatchSamplerTest.test_subsample_indicator_when_less_true_elements_than_num_samples">
<code class="descname">test_subsample_indicator_when_less_true_elements_than_num_samples</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.minibatch_sampler_test.MinibatchSamplerTest.test_subsample_indicator_when_less_true_elements_than_num_samples" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.minibatch_sampler_test.MinibatchSamplerTest.test_subsample_indicator_when_more_true_elements_than_num_samples">
<code class="descname">test_subsample_indicator_when_more_true_elements_than_num_samples</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.minibatch_sampler_test.MinibatchSamplerTest.test_subsample_indicator_when_more_true_elements_than_num_samples" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.minibatch_sampler_test.MinibatchSamplerTest.test_subsample_indicator_when_num_samples_is_zero">
<code class="descname">test_subsample_indicator_when_num_samples_is_zero</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.minibatch_sampler_test.MinibatchSamplerTest.test_subsample_indicator_when_num_samples_is_zero" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.minibatch_sampler_test.MinibatchSamplerTest.test_subsample_when_more_true_elements_than_num_samples_no_shape">
<code class="descname">test_subsample_when_more_true_elements_than_num_samples_no_shape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.minibatch_sampler_test.MinibatchSamplerTest.test_subsample_when_more_true_elements_than_num_samples_no_shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.model">
<span id="object-detection-core-model-module"></span><h2>object_detection.core.model module<a class="headerlink" href="#module-object_detection.core.model" title="Permalink to this headline">¶</a></h2>
<p>Abstract detection model.</p>
<p>This file defines a generic base class for detection models.  Programs that are
designed to work with arbitrary detection models should only depend on this
class.  We intend for the functions in this class to follow tensor-in/tensor-out
design, thus all functions have tensors or lists/dictionaries holding tensors as
inputs and outputs.</p>
<p>Abstractly, detection models predict output tensors given input images
which can be passed to a loss function at training time or passed to a
postprocessing function at eval time.  The computation graphs at a high level
consequently look as follows:</p>
<p>Training time:
inputs (images tensor) -&gt; preprocess -&gt; predict -&gt; loss -&gt; outputs (loss tensor)</p>
<p>Evaluation time:
inputs (images tensor) -&gt; preprocess -&gt; predict -&gt; postprocess</p>
<blockquote>
<div>-&gt; outputs (boxes tensor, scores tensor, classes tensor, num_detections tensor)</div></blockquote>
<p>DetectionModels must thus implement four functions (1) preprocess, (2) predict,
(3) postprocess and (4) loss.  DetectionModels should make no assumptions about
the input size or aspect ratio &#8212; they are responsible for doing any
resize/reshaping necessary (see docstring for the preprocess function).
Output classes are always integers in the range [0, num_classes).  Any mapping
of these integers to semantic labels is to be handled outside of this class.</p>
<p>By default, DetectionModels produce bounding box detections; However, we support
a handful of auxiliary annotations associated with each bounding box, namely,
instance masks and keypoints.</p>
<dl class="class">
<dt id="object_detection.core.model.DetectionModel">
<em class="property">class </em><code class="descclassname">object_detection.core.model.</code><code class="descname">DetectionModel</code><span class="sig-paren">(</span><em>num_classes</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.model.DetectionModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Abstract base class for detection models.</p>
<dl class="method">
<dt id="object_detection.core.model.DetectionModel.groundtruth_lists">
<code class="descname">groundtruth_lists</code><span class="sig-paren">(</span><em>field</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.model.DetectionModel.groundtruth_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>Access list of groundtruth tensors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>field</strong> &#8211; a string key, options are
fields.BoxListFields.{boxes,classes,masks,keypoints}</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of tensors holding groundtruth information (see also
provide_groundtruth function below), with one entry for each image in the
batch.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code> &#8211; if the field has not been provided via provide_groundtruth.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.model.DetectionModel.loss">
<code class="descname">loss</code><span class="sig-paren">(</span><em>prediction_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.model.DetectionModel.loss" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute scalar loss tensors with respect to provided groundtruth.</p>
<p>Calling this function requires that groundtruth tensors have been
provided via the provide_groundtruth function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>prediction_dict</strong> &#8211; a dictionary holding predicted tensors</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>a dictionary mapping strings (loss names) to scalar tensors representing</dt>
<dd>loss values.</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.model.DetectionModel.num_classes">
<code class="descname">num_classes</code><a class="headerlink" href="#object_detection.core.model.DetectionModel.num_classes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.model.DetectionModel.postprocess">
<code class="descname">postprocess</code><span class="sig-paren">(</span><em>prediction_dict</em>, <em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.model.DetectionModel.postprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert predicted output tensors to final detections.</p>
<p>Outputs adhere to the following conventions:
* Classes are integers in [0, num_classes); background classes are removed</p>
<blockquote>
<div>and the first non-background class is mapped to 0.</div></blockquote>
<ul class="simple">
<li>Boxes are to be interpreted as being in [y_min, x_min, y_max, x_max]
format and normalized relative to the image window.</li>
<li><cite>num_detections</cite> is provided for settings where detections are padded to a
fixed number of boxes.</li>
<li>We do not specifically assume any kind of probabilistic interpretation
of the scores &#8212; the only important thing is their relative ordering.
Thus implementations of the postprocess function are free to output
logits, probabilities, calibrated probabilities, or anything else.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>prediction_dict</strong> &#8211; a dictionary holding prediction tensors.</li>
<li><strong>**params</strong> &#8211; Additional keyword arguments for specific implementations of
DetectionModel.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>a dictionary containing the following fields</dt>
<dd><p class="first">detection_boxes: [batch, max_detections, 4]
detection_scores: [batch, max_detections]
detection_classes: [batch, max_detections]
instance_masks: [batch, max_detections, image_height, image_width]</p>
<blockquote>
<div><p>(optional)</p>
</div></blockquote>
<p class="last">keypoints: [batch, max_detections, num_keypoints, 2] (optional)
num_detections: [batch]</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">detections</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.model.DetectionModel.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>preprocessed_inputs</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.model.DetectionModel.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict prediction tensors from inputs tensor.</p>
<p>Outputs of this function can be passed to loss or postprocess functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>preprocessed_inputs</strong> &#8211; a [batch, height, width, channels] float32 tensor
representing a batch of images.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>a dictionary holding prediction tensors to be</dt>
<dd>passed to the Loss or Postprocess functions.</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">prediction_dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.model.DetectionModel.preprocess">
<code class="descname">preprocess</code><span class="sig-paren">(</span><em>inputs</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.model.DetectionModel.preprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Input preprocessing.</p>
<p>To be overridden by implementations.</p>
<p>This function is responsible for any scaling/shifting of input values that
is necessary prior to running the detector on an input image.
It is also responsible for any resizing that might be necessary as images
are assumed to arrive in arbitrary sizes.  While this function could
conceivably be part of the predict method (below), it is often convenient
to keep these separate &#8212; for example, we may want to preprocess on one
device, place onto a queue, and let another device (e.g., the GPU) handle
prediction.</p>
<p>A few important notes about the preprocess function:
+ We assume that this operation does not have any trainable variables nor
does it affect the groundtruth annotations in any way (thus data
augmentation operations such as random cropping should be performed
externally).
+ There is no assumption that the batchsize in this function is the same as
the batch size in the predict function.  In fact, we recommend calling the
preprocess function prior to calling any batching operations (which should
happen outside of the model) and thus assuming that batch sizes are equal
to 1 in the preprocess function.
+ There is also no explicit assumption that the output resolutions
must be fixed across inputs &#8212; this is to support &#8220;fully convolutional&#8221;
settings in which input images can have different shapes/resolutions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>inputs</strong> &#8211; a [batch, height_in, width_in, channels] float32 tensor
representing a batch of images with values between 0 and 255.0.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>a [batch, height_out, width_out, channels] float32</dt>
<dd>tensor representing a batch of images.</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">preprocessed_inputs</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.model.DetectionModel.provide_groundtruth">
<code class="descname">provide_groundtruth</code><span class="sig-paren">(</span><em>groundtruth_boxes_list</em>, <em>groundtruth_classes_list</em>, <em>groundtruth_masks_list=None</em>, <em>groundtruth_keypoints_list=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.model.DetectionModel.provide_groundtruth" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide groundtruth tensors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>groundtruth_boxes_list</strong> &#8211; <p>a list of 2-D tf.float32 tensors of shape
[num_boxes, 4] containing coordinates of the groundtruth boxes.</p>
<blockquote>
<div>Groundtruth boxes are provided in [y_min, x_min, y_max, x_max]
format and assumed to be normalized and clipped
relative to the image window with y_min &lt;= y_max and x_min &lt;= x_max.</div></blockquote>
</li>
<li><strong>groundtruth_classes_list</strong> &#8211; a list of 2-D tf.float32 one-hot (or k-hot)
tensors of shape [num_boxes, num_classes] containing the class targets
with the 0th index assumed to map to the first non-background class.</li>
<li><strong>groundtruth_masks_list</strong> &#8211; a list of 2-D tf.float32 tensors of
shape [max_detections, height_in, width_in] containing instance
masks with values in {0, 1}.  If None, no masks are provided.
Mask resolution <cite>height_in`x`width_in</cite> must agree with the resolution
of the input image tensor provided to the <cite>preprocess</cite> function.</li>
<li><strong>groundtruth_keypoints_list</strong> &#8211; a list of 2-D tf.float32 tensors of
shape [batch, max_detections, num_keypoints, 2] containing keypoints.
Keypoints are assumed to be provided in normalized coordinates and
missing keypoints should be encoded as NaN.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.model.DetectionModel.restore_map">
<code class="descname">restore_map</code><span class="sig-paren">(</span><em>from_detection_checkpoint=True</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.model.DetectionModel.restore_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a map of variables to load from a foreign checkpoint.</p>
<p>Returns a map of variable names to load from a checkpoint to variables in
the model graph. This enables the model to initialize based on weights from
another task. For example, the feature extractor variables from a
classification model can be used to bootstrap training of an object
detector. When loading from an object detection model, the checkpoint model
should have the same parameters as this detection model with exception of
the num_classes parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>from_detection_checkpoint</strong> &#8211; whether to restore from a full detection
checkpoint (with compatible variable names) or to restore from a
classification checkpoint for initialization prior to training.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dict mapping variable names (to load from a checkpoint) to variables in
the model graph.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.post_processing">
<span id="object-detection-core-post-processing-module"></span><h2>object_detection.core.post_processing module<a class="headerlink" href="#module-object_detection.core.post_processing" title="Permalink to this headline">¶</a></h2>
<p>Post-processing operations on detected boxes.</p>
<dl class="function">
<dt id="object_detection.core.post_processing.batch_multiclass_non_max_suppression">
<code class="descclassname">object_detection.core.post_processing.</code><code class="descname">batch_multiclass_non_max_suppression</code><span class="sig-paren">(</span><em>boxes</em>, <em>scores</em>, <em>score_thresh</em>, <em>iou_thresh</em>, <em>max_size_per_class</em>, <em>max_total_size=0</em>, <em>clip_window=None</em>, <em>change_coordinate_frame=False</em>, <em>num_valid_boxes=None</em>, <em>masks=None</em>, <em>scope=None</em>, <em>parallel_iterations=32</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.post_processing.batch_multiclass_non_max_suppression" title="Permalink to this definition">¶</a></dt>
<dd><p>Multi-class version of non maximum suppression that operates on a batch.</p>
<p>This op is similar to <cite>multiclass_non_max_suppression</cite> but operates on a batch
of boxes and scores. See documentation for <cite>multiclass_non_max_suppression</cite>
for details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxes</strong> &#8211; <p>A [batch_size, num_anchors, q, 4] float32 tensor containing
detections. If <cite>q</cite> is 1 then same boxes are used for all classes</p>
<blockquote>
<div>otherwise, if <cite>q</cite> is equal to number of classes, class-specific boxes
are used.</div></blockquote>
</li>
<li><strong>scores</strong> &#8211; A [batch_size, num_anchors, num_classes] float32 tensor containing
the scores for each of the <cite>num_anchors</cite> detections.</li>
<li><strong>score_thresh</strong> &#8211; scalar threshold for score (low scoring boxes are removed).</li>
<li><strong>iou_thresh</strong> &#8211; scalar threshold for IOU (new boxes that have high IOU overlap
with previously selected boxes are removed).</li>
<li><strong>max_size_per_class</strong> &#8211; maximum number of retained boxes per class.</li>
<li><strong>max_total_size</strong> &#8211; maximum number of boxes retained over all classes. By
default returns all boxes retained after capping boxes per class.</li>
<li><strong>clip_window</strong> &#8211; A float32 tensor of the form [y_min, x_min, y_max, x_max]
representing the window to clip boxes to before performing non-max
suppression.</li>
<li><strong>change_coordinate_frame</strong> &#8211; Whether to normalize coordinates after clipping
relative to clip_window (this can only be set to True if a clip_window
is provided)</li>
<li><strong>num_valid_boxes</strong> &#8211; <p>(optional) a Tensor of type <cite>int32</cite>. A 1-D tensor of shape
[batch_size] representing the number of valid boxes to be considered</p>
<blockquote>
<div>for each image in the batch.  This parameter allows for ignoring zero
paddings.</div></blockquote>
</li>
<li><strong>masks</strong> &#8211; (optional) a [batch_size, num_anchors, q, mask_height, mask_width]
float32 tensor containing box masks. <cite>q</cite> can be either number of classes
or 1 depending on whether a separate mask is predicted per class.</li>
<li><strong>scope</strong> &#8211; tf scope name.</li>
<li><strong>parallel_iterations</strong> &#8211; (optional) number of batch items to process in
parallel.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>A [batch_size, max_detections, 4] float32 tensor</dt>
<dd><p class="first last">containing the non-max suppressed boxes.</p>
</dd>
<dt>&#8216;nmsed_scores&#8217;: A [batch_size, max_detections] float32 tensor containing</dt>
<dd><p class="first last">the scores for the boxes.</p>
</dd>
<dt>&#8216;nmsed_classes&#8217;: A [batch_size, max_detections] float32 tensor</dt>
<dd><p class="first last">containing the class for boxes.</p>
</dd>
<dt>&#8216;nmsed_masks&#8217;: (optional) a</dt>
<dd><p class="first last">[batch_size, max_detections, mask_height, mask_width] float32 tensor
containing masks for each selected box. This is set to None if input
<cite>masks</cite> is None.</p>
</dd>
<dt>&#8216;num_detections&#8217;: A [batch_size] int32 tensor indicating the number of</dt>
<dd><p class="first last">valid detections per batch item. Only the top num_detections[i] entries in
nms_boxes[i], nms_scores[i] and nms_class[i] are valid. the rest of the
entries are zero paddings.</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">&#8216;nmsed_boxes&#8217;</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if <cite>q</cite> in boxes.shape is not 1 or not equal to number of
classes as inferred from scores.shape.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.post_processing.multiclass_non_max_suppression">
<code class="descclassname">object_detection.core.post_processing.</code><code class="descname">multiclass_non_max_suppression</code><span class="sig-paren">(</span><em>boxes</em>, <em>scores</em>, <em>score_thresh</em>, <em>iou_thresh</em>, <em>max_size_per_class</em>, <em>max_total_size=0</em>, <em>clip_window=None</em>, <em>change_coordinate_frame=False</em>, <em>masks=None</em>, <em>additional_fields=None</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.post_processing.multiclass_non_max_suppression" title="Permalink to this definition">¶</a></dt>
<dd><p>Multi-class version of non maximum suppression.</p>
<p>This op greedily selects a subset of detection bounding boxes, pruning
away boxes that have high IOU (intersection over union) overlap (&gt; thresh)
with already selected boxes.  It operates independently for each class for
which scores are provided (via the scores field of the input box_list),
pruning boxes with score less than a provided threshold prior to
applying NMS.</p>
<p>Please note that this operation is performed on <em>all</em> classes, therefore any
background classes should be removed prior to calling this function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxes</strong> &#8211; A [k, q, 4] float32 tensor containing k detections. <cite>q</cite> can be either
number of classes or 1 depending on whether a separate box is predicted
per class.</li>
<li><strong>scores</strong> &#8211; A [k, num_classes] float32 tensor containing the scores for each of
the k detections.</li>
<li><strong>score_thresh</strong> &#8211; scalar threshold for score (low scoring boxes are removed).</li>
<li><strong>iou_thresh</strong> &#8211; scalar threshold for IOU (new boxes that have high IOU overlap
with previously selected boxes are removed).</li>
<li><strong>max_size_per_class</strong> &#8211; maximum number of retained boxes per class.</li>
<li><strong>max_total_size</strong> &#8211; maximum number of boxes retained over all classes. By
default returns all boxes retained after capping boxes per class.</li>
<li><strong>clip_window</strong> &#8211; A float32 tensor of the form [y_min, x_min, y_max, x_max]
representing the window to clip and normalize boxes to before performing
non-max suppression.</li>
<li><strong>change_coordinate_frame</strong> &#8211; Whether to normalize coordinates after clipping
relative to clip_window (this can only be set to True if a clip_window
is provided)</li>
<li><strong>masks</strong> &#8211; (optional) a [k, q, mask_height, mask_width] float32 tensor
containing box masks. <cite>q</cite> can be either number of classes or 1 depending
on whether a separate mask is predicted per class.</li>
<li><strong>additional_fields</strong> &#8211; (optional) If not None, a dictionary that maps keys to
tensors whose first dimensions are all of size <cite>k</cite>. After non-maximum
suppression, all tensors corresponding to the selected boxes will be
added to resulting BoxList.</li>
<li><strong>scope</strong> &#8211; name scope.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>a BoxList holding M boxes with a rank-1 scores field representing</dt>
<dd><p class="first last">corresponding scores for each box with scores sorted in decreasing order
and a rank-1 classes field representing a class label for each box.
If masks, keypoints, keypoint_heatmaps is not None, the boxlist will
contain masks, keypoints, keypoint_heatmaps corresponding to boxes.</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if iou_thresh is not in [0, 1] or if input boxlist does not have
a valid scores field.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-object_detection.core.post_processing_test">
<span id="object-detection-core-post-processing-test-module"></span><h2>object_detection.core.post_processing_test module<a class="headerlink" href="#module-object_detection.core.post_processing_test" title="Permalink to this headline">¶</a></h2>
<p>Tests for tensorflow_models.object_detection.core.post_processing.</p>
<dl class="class">
<dt id="object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest">
<em class="property">class </em><code class="descclassname">object_detection.core.post_processing_test.</code><code class="descname">MulticlassNonMaxSuppressionTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_batch_multiclass_nms_with_batch_size_1">
<code class="descname">test_batch_multiclass_nms_with_batch_size_1</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_batch_multiclass_nms_with_batch_size_1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_batch_multiclass_nms_with_batch_size_2">
<code class="descname">test_batch_multiclass_nms_with_batch_size_2</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_batch_multiclass_nms_with_batch_size_2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_batch_multiclass_nms_with_dynamic_batch_size">
<code class="descname">test_batch_multiclass_nms_with_dynamic_batch_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_batch_multiclass_nms_with_dynamic_batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_batch_multiclass_nms_with_masks">
<code class="descname">test_batch_multiclass_nms_with_masks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_batch_multiclass_nms_with_masks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_batch_multiclass_nms_with_masks_and_num_valid_boxes">
<code class="descname">test_batch_multiclass_nms_with_masks_and_num_valid_boxes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_batch_multiclass_nms_with_masks_and_num_valid_boxes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_select_with_clip_window">
<code class="descname">test_multiclass_nms_select_with_clip_window</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_select_with_clip_window" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_select_with_clip_window_change_coordinate_frame">
<code class="descname">test_multiclass_nms_select_with_clip_window_change_coordinate_frame</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_select_with_clip_window_change_coordinate_frame" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_select_with_per_class_cap">
<code class="descname">test_multiclass_nms_select_with_per_class_cap</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_select_with_per_class_cap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_select_with_separate_boxes">
<code class="descname">test_multiclass_nms_select_with_separate_boxes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_select_with_separate_boxes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_select_with_shared_boxes">
<code class="descname">test_multiclass_nms_select_with_shared_boxes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_select_with_shared_boxes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_select_with_shared_boxes_given_keypoints">
<code class="descname">test_multiclass_nms_select_with_shared_boxes_given_keypoints</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_select_with_shared_boxes_given_keypoints" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_select_with_shared_boxes_given_masks">
<code class="descname">test_multiclass_nms_select_with_shared_boxes_given_masks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_select_with_shared_boxes_given_masks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_select_with_total_cap">
<code class="descname">test_multiclass_nms_select_with_total_cap</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_select_with_total_cap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_threshold_then_select_with_shared_boxes">
<code class="descname">test_multiclass_nms_threshold_then_select_with_shared_boxes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_threshold_then_select_with_shared_boxes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_with_additional_fields">
<code class="descname">test_multiclass_nms_with_additional_fields</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_with_additional_fields" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_with_shared_boxes_given_keypoint_heatmaps">
<code class="descname">test_multiclass_nms_with_shared_boxes_given_keypoint_heatmaps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_multiclass_nms_with_shared_boxes_given_keypoint_heatmaps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_with_invalid_scores_size">
<code class="descname">test_with_invalid_scores_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.post_processing_test.MulticlassNonMaxSuppressionTest.test_with_invalid_scores_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.prefetcher">
<span id="object-detection-core-prefetcher-module"></span><h2>object_detection.core.prefetcher module<a class="headerlink" href="#module-object_detection.core.prefetcher" title="Permalink to this headline">¶</a></h2>
<p>Provides functions to prefetch tensors to feed into models.</p>
<dl class="function">
<dt id="object_detection.core.prefetcher.prefetch">
<code class="descclassname">object_detection.core.prefetcher.</code><code class="descname">prefetch</code><span class="sig-paren">(</span><em>tensor_dict</em>, <em>capacity</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.prefetcher.prefetch" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a prefetch queue for tensors.</p>
<p>Creates a FIFO queue to asynchronously enqueue tensor_dicts and returns a
dequeue op that evaluates to a tensor_dict. This function is useful in
prefetching preprocessed tensors so that the data is readily available for
consumers.</p>
<p>key, string_tensor = slim.parallel_reader.parallel_read(...)
tensor_dict = decoder.decode(string_tensor)
tensor_dict = preprocessor.preprocess(tensor_dict, ...)
prefetch_queue = prefetcher.prefetch(tensor_dict, capacity=20)
tensor_dict = prefetch_queue.dequeue()
outputs = Model(tensor_dict)
...
&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-</p>
<p>For input pipelines with batching, refer to core/batcher.py</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tensor_dict</strong> &#8211; a dictionary of tensors to prefetch.</li>
<li><strong>capacity</strong> &#8211; the size of the prefetch queue.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a FIFO prefetcher queue</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-object_detection.core.prefetcher_test">
<span id="object-detection-core-prefetcher-test-module"></span><h2>object_detection.core.prefetcher_test module<a class="headerlink" href="#module-object_detection.core.prefetcher_test" title="Permalink to this headline">¶</a></h2>
<p>Tests for object_detection.core.prefetcher.</p>
<dl class="class">
<dt id="object_detection.core.prefetcher_test.PrefetcherTest">
<em class="property">class </em><code class="descclassname">object_detection.core.prefetcher_test.</code><code class="descname">PrefetcherTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.prefetcher_test.PrefetcherTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.prefetcher_test.PrefetcherTest.test_prefetch_tensors_with_fully_defined_shapes">
<code class="descname">test_prefetch_tensors_with_fully_defined_shapes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.prefetcher_test.PrefetcherTest.test_prefetch_tensors_with_fully_defined_shapes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.prefetcher_test.PrefetcherTest.test_prefetch_tensors_with_partially_defined_shapes">
<code class="descname">test_prefetch_tensors_with_partially_defined_shapes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.prefetcher_test.PrefetcherTest.test_prefetch_tensors_with_partially_defined_shapes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.preprocessor">
<span id="object-detection-core-preprocessor-module"></span><h2>object_detection.core.preprocessor module<a class="headerlink" href="#module-object_detection.core.preprocessor" title="Permalink to this headline">¶</a></h2>
<p>Preprocess images and bounding boxes for detection.</p>
<p>We perform two sets of operations in preprocessing stage:
(a) operations that are applied to both training and testing data,
(b) operations that are applied only to training data for the purpose of</p>
<blockquote>
<div>data augmentation.</div></blockquote>
<p>A preprocessing function receives a set of inputs,
e.g. an image and bounding boxes,
performs an operation on them, and returns them.
Some examples are: randomly cropping the image, randomly mirroring the image,</p>
<blockquote>
<div>randomly changing the brightness, contrast, hue and
randomly jittering the bounding boxes.</div></blockquote>
<p>The preprocess function receives a tensor_dict which is a dictionary that maps
different field names to their tensors. For example,
tensor_dict[fields.InputDataFields.image] holds the image tensor.
The image is a rank 4 tensor: [1, height, width, channels] with
dtype=tf.float32. The groundtruth_boxes is a rank 2 tensor: [N, 4] where
in each row there is a box with [ymin xmin ymax xmax].
Boxes are in normalized coordinates meaning
their coordinate values range in [0, 1]</p>
<p>Important Note: In tensor_dict, images is a rank 4 tensor, but preprocessing
functions receive a rank 3 tensor for processing the image. Thus, inside the
preprocess function we squeeze the image to become a rank 3 tensor and then
we pass it to the functions. At the end of the preprocess we expand the image
back to rank 4.</p>
<dl class="function">
<dt id="object_detection.core.preprocessor.flip_boxes">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">flip_boxes</code><span class="sig-paren">(</span><em>boxes</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.flip_boxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Left-right flip the boxes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>boxes</strong> &#8211; rank 2 float32 tensor containing the bounding boxes -&gt; [N, 4].
Boxes are in normalized form meaning their coordinates vary
between [0, 1].
Each row is in the form of [ymin, xmin, ymax, xmax].</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Flipped boxes.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.get_default_func_arg_map">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">get_default_func_arg_map</code><span class="sig-paren">(</span><em>include_instance_masks=False</em>, <em>include_keypoints=False</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.get_default_func_arg_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the default mapping from a preprocessor function to its args.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>include_instance_masks</strong> &#8211; If True, preprocessing functions will modify the
instance masks, too.</li>
<li><strong>include_keypoints</strong> &#8211; If True, preprocessing functions will modify the
keypoints, too.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A map from preprocessing functions to the arguments they receive.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.image_to_float">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">image_to_float</code><span class="sig-paren">(</span><em>image</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.image_to_float" title="Permalink to this definition">¶</a></dt>
<dd><p>Used in Faster R-CNN. Casts image pixel values to float.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>image</strong> &#8211; input image which might be in tf.uint8 or sth else format</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">image in tf.float32 format.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#object_detection.core.standard_fields.InputDataFields.image" title="object_detection.core.standard_fields.InputDataFields.image">image</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.normalize_image">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">normalize_image</code><span class="sig-paren">(</span><em>image</em>, <em>original_minval</em>, <em>original_maxval</em>, <em>target_minval</em>, <em>target_maxval</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.normalize_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalizes pixel values in the image.</p>
<p>Moves the pixel values from the current [original_minval, original_maxval]
range to a the [target_minval, target_maxval] range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; rank 3 float32 tensor containing 1
image -&gt; [height, width, channels].</li>
<li><strong>original_minval</strong> &#8211; current image minimum value.</li>
<li><strong>original_maxval</strong> &#8211; current image maximum value.</li>
<li><strong>target_minval</strong> &#8211; target image minimum value.</li>
<li><strong>target_maxval</strong> &#8211; target image maximum value.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">image which is the same shape as input image.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#object_detection.core.standard_fields.InputDataFields.image" title="object_detection.core.standard_fields.InputDataFields.image">image</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.one_hot_encoding">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">one_hot_encoding</code><span class="sig-paren">(</span><em>labels</em>, <em>num_classes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.one_hot_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>One-hot encodes the multiclass labels.</p>
<dl class="docutils">
<dt>Example usage:</dt>
<dd>labels = tf.constant([1, 4], dtype=tf.int32)
one_hot = OneHotEncoding(labels, num_classes=5)
one_hot.eval()    # evaluates to [0, 1, 0, 0, 1]</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>labels</strong> &#8211; A tensor of shape [None] corresponding to the labels.</li>
<li><strong>num_classes</strong> &#8211; Number of classes in the dataset.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>a tensor of shape [num_classes] corresponding to the one hot</dt>
<dd><p class="first last">encoding of the labels.</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">onehot_labels</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if num_classes is not specified.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.preprocess">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">preprocess</code><span class="sig-paren">(</span><em>tensor_dict</em>, <em>preprocess_options</em>, <em>func_arg_map=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.preprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Preprocess images and bounding boxes.</p>
<p>Various types of preprocessing (to be implemented) based on the
preprocess_options dictionary e.g. &#8220;crop image&#8221; (affects image and possibly
boxes), &#8220;white balance image&#8221; (affects only image), etc. If self._options
is None, no preprocessing is done.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tensor_dict</strong> &#8211; <p>dictionary that contains images, boxes, and can contain other
things as well.
images-&gt; rank 4 float32 tensor contains</p>
<blockquote>
<div>1 image -&gt; [1, height, width, 3].
with pixel values varying between [0, 1]</div></blockquote>
<dl class="docutils">
<dt>boxes-&gt; rank 2 float32 tensor containing</dt>
<dd>the bounding boxes -&gt; [N, 4].
Boxes are in normalized form meaning
their coordinates vary between [0, 1].
Each row is in the form
of [ymin, xmin, ymax, xmax].</dd>
</dl>
</li>
<li><strong>preprocess_options</strong> &#8211; It is a list of tuples, where each tuple contains a
function and a dictionary that contains arguments and
their values.</li>
<li><strong>func_arg_map</strong> &#8211; mapping from preprocessing functions to arguments that they
expect to receive and return.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">which contains the preprocessed images, bounding boxes, etc.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tensor_dict</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><dl class="first docutils">
<dt><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; (a) If the functions passed to Preprocess</dt>
<dd><p class="first last">are not in func_arg_map.</p>
</dd>
</dl>
<ol class="last loweralpha simple" start="2">
<li>If the arguments that a function needs
do not exist in tensor_dict.</li>
<li>If image in tensor_dict is not rank 4</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.random_adjust_brightness">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">random_adjust_brightness</code><span class="sig-paren">(</span><em>image</em>, <em>max_delta=0.2</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.random_adjust_brightness" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomly adjusts brightness.</p>
<p>Makes sure the output image is still between 0 and 1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; rank 3 float32 tensor contains 1 image -&gt; [height, width, channels]
with pixel values varying between [0, 1].</li>
<li><strong>max_delta</strong> &#8211; how much to change the brightness. A value between [0, 1).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">image which is the same shape as input image.
boxes: boxes which is the same shape as input boxes.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#object_detection.core.standard_fields.InputDataFields.image" title="object_detection.core.standard_fields.InputDataFields.image">image</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.random_adjust_contrast">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">random_adjust_contrast</code><span class="sig-paren">(</span><em>image</em>, <em>min_delta=0.8</em>, <em>max_delta=1.25</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.random_adjust_contrast" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomly adjusts contrast.</p>
<p>Makes sure the output image is still between 0 and 1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; rank 3 float32 tensor contains 1 image -&gt; [height, width, channels]
with pixel values varying between [0, 1].</li>
<li><strong>min_delta</strong> &#8211; see max_delta.</li>
<li><strong>max_delta</strong> &#8211; how much to change the contrast. Contrast will change with a
value between min_delta and max_delta. This value will be
multiplied to the current contrast of the image.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">image which is the same shape as input image.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#object_detection.core.standard_fields.InputDataFields.image" title="object_detection.core.standard_fields.InputDataFields.image">image</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.random_adjust_hue">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">random_adjust_hue</code><span class="sig-paren">(</span><em>image</em>, <em>max_delta=0.02</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.random_adjust_hue" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomly adjusts hue.</p>
<p>Makes sure the output image is still between 0 and 1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; rank 3 float32 tensor contains 1 image -&gt; [height, width, channels]
with pixel values varying between [0, 1].</li>
<li><strong>max_delta</strong> &#8211; change hue randomly with a value between 0 and max_delta.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">image which is the same shape as input image.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#object_detection.core.standard_fields.InputDataFields.image" title="object_detection.core.standard_fields.InputDataFields.image">image</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.random_adjust_saturation">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">random_adjust_saturation</code><span class="sig-paren">(</span><em>image</em>, <em>min_delta=0.8</em>, <em>max_delta=1.25</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.random_adjust_saturation" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomly adjusts saturation.</p>
<p>Makes sure the output image is still between 0 and 1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; rank 3 float32 tensor contains 1 image -&gt; [height, width, channels]
with pixel values varying between [0, 1].</li>
<li><strong>min_delta</strong> &#8211; see max_delta.</li>
<li><strong>max_delta</strong> &#8211; how much to change the saturation. Saturation will change with a
value between min_delta and max_delta. This value will be
multiplied to the current saturation of the image.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">image which is the same shape as input image.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#object_detection.core.standard_fields.InputDataFields.image" title="object_detection.core.standard_fields.InputDataFields.image">image</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.random_black_patches">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">random_black_patches</code><span class="sig-paren">(</span><em>image</em>, <em>max_black_patches=10</em>, <em>probability=0.5</em>, <em>size_to_image_ratio=0.1</em>, <em>random_seed=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.random_black_patches" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomly adds some black patches to the image.</p>
<p>This op adds up to max_black_patches square black patches of a fixed size
to the image where size is specified via the size_to_image_ratio parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; rank 3 float32 tensor containing 1 image -&gt; [height, width, channels]
with pixel values varying between [0, 1].</li>
<li><strong>max_black_patches</strong> &#8211; number of times that the function tries to add a
black box to the image.</li>
<li><strong>probability</strong> &#8211; at each try, what is the chance of adding a box.</li>
<li><strong>size_to_image_ratio</strong> &#8211; <p>Determines the ratio of the size of the black patches
to the size of the image.
box_size = size_to_image_ratio *</p>
<blockquote>
<div>min(image_width, image_height)</div></blockquote>
</li>
<li><strong>random_seed</strong> &#8211; random seed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">image</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.random_crop_image">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">random_crop_image</code><span class="sig-paren">(</span><em>image</em>, <em>boxes</em>, <em>labels</em>, <em>masks=None</em>, <em>keypoints=None</em>, <em>min_object_covered=1.0</em>, <em>aspect_ratio_range=(0.75</em>, <em>1.33)</em>, <em>area_range=(0.1</em>, <em>1.0)</em>, <em>overlap_thresh=0.3</em>, <em>random_coef=0.0</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.random_crop_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomly crops the image.</p>
<p>Given the input image and its bounding boxes, this op randomly
crops a subimage.  Given a user-provided set of input constraints,
the crop window is resampled until it satisfies these constraints.
If within 100 trials it is unable to find a valid crop, the original
image is returned. See the Args section for a description of the input
constraints. Both input boxes and returned Boxes are in normalized
form (e.g., lie in the unit square [0, 1]).
This function will return the original image with probability random_coef.</p>
<p>Note: boxes will be clipped to the crop. Keypoint coordinates that are
outside the crop will be set to NaN, which is consistent with the original
keypoint encoding for non-existing keypoints.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; rank 3 float32 tensor contains 1 image -&gt; [height, width, channels]
with pixel values varying between [0, 1].</li>
<li><strong>boxes</strong> &#8211; rank 2 float32 tensor containing the bounding boxes with shape
[num_instances, 4].
Boxes are in normalized form meaning their coordinates vary
between [0, 1].
Each row is in the form of [ymin, xmin, ymax, xmax].</li>
<li><strong>labels</strong> &#8211; rank 1 int32 tensor containing the object classes.</li>
<li><strong>masks</strong> &#8211; (optional) rank 3 float32 tensor with shape
[num_instances, height, width] containing instance masks. The masks
are of the same height, width as the input <cite>image</cite>.</li>
<li><strong>keypoints</strong> &#8211; (optional) rank 3 float32 tensor with shape
[num_instances, num_keypoints, 2]. The keypoints are in y-x
normalized coordinates.</li>
<li><strong>min_object_covered</strong> &#8211; the cropped image must cover at least this fraction of
at least one of the input bounding boxes.</li>
<li><strong>aspect_ratio_range</strong> &#8211; allowed range for aspect ratio of cropped image.</li>
<li><strong>area_range</strong> &#8211; allowed range for area ratio between cropped image and the
original image.</li>
<li><strong>overlap_thresh</strong> &#8211; minimum overlap thresh with new cropped
image to keep the box.</li>
<li><strong>random_coef</strong> &#8211; a random coefficient that defines the chance of getting the
original image. If random_coef is 0, we will always get the
cropped image, and if it is 1.0, we will always get the
original image.</li>
<li><strong>seed</strong> &#8211; random seed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>Image shape will be [new_height, new_width, channels].
boxes: boxes which is the same rank as input boxes. Boxes are in normalized</p>
<blockquote>
<div><p>form.</p>
</div></blockquote>
<p>labels: new labels.</p>
<p>If masks, or keypoints are not None, the function also returns:</p>
<dl class="docutils">
<dt>masks: rank 3 float32 tensor with shape [num_instances, height, width]</dt>
<dd><p class="first last">containing instance masks.</p>
</dd>
<dt>keypoints: rank 3 float32 tensor with shape</dt>
<dd><p class="first last">[num_instances, num_keypoints, 2]</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#object_detection.core.standard_fields.InputDataFields.image" title="object_detection.core.standard_fields.InputDataFields.image">image</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.random_crop_pad_image">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">random_crop_pad_image</code><span class="sig-paren">(</span><em>image</em>, <em>boxes</em>, <em>labels</em>, <em>min_object_covered=1.0</em>, <em>aspect_ratio_range=(0.75</em>, <em>1.33)</em>, <em>area_range=(0.1</em>, <em>1.0)</em>, <em>overlap_thresh=0.3</em>, <em>random_coef=0.0</em>, <em>min_padded_size_ratio=None</em>, <em>max_padded_size_ratio=None</em>, <em>pad_color=None</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.random_crop_pad_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomly crops and pads the image.</p>
<p>Given an input image and its bounding boxes, this op first randomly crops
the image and then randomly pads the image with background values. Parameters
min_padded_size_ratio and max_padded_size_ratio, determine the range of the
final output image size.  Specifically, the final image size will have a size
in the range of min_padded_size_ratio * tf.shape(image) and
max_padded_size_ratio * tf.shape(image). Note that these ratios are with
respect to the size of the original image, so we can&#8217;t capture the same
effect easily by independently applying RandomCropImage
followed by RandomPadImage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; rank 3 float32 tensor containing 1 image -&gt; [height, width, channels]
with pixel values varying between [0, 1].</li>
<li><strong>boxes</strong> &#8211; rank 2 float32 tensor containing the bounding boxes -&gt; [N, 4].
Boxes are in normalized form meaning their coordinates vary
between [0, 1].
Each row is in the form of [ymin, xmin, ymax, xmax].</li>
<li><strong>labels</strong> &#8211; rank 1 int32 tensor containing the object classes.</li>
<li><strong>min_object_covered</strong> &#8211; the cropped image must cover at least this fraction of
at least one of the input bounding boxes.</li>
<li><strong>aspect_ratio_range</strong> &#8211; allowed range for aspect ratio of cropped image.</li>
<li><strong>area_range</strong> &#8211; allowed range for area ratio between cropped image and the
original image.</li>
<li><strong>overlap_thresh</strong> &#8211; minimum overlap thresh with new cropped
image to keep the box.</li>
<li><strong>random_coef</strong> &#8211; a random coefficient that defines the chance of getting the
original image. If random_coef is 0, we will always get the
cropped image, and if it is 1.0, we will always get the
original image.</li>
<li><strong>min_padded_size_ratio</strong> &#8211; min ratio of padded image height and width to the
input image&#8217;s height and width. If None, it will
be set to [0.0, 0.0].</li>
<li><strong>max_padded_size_ratio</strong> &#8211; max ratio of padded image height and width to the
input image&#8217;s height and width. If None, it will
be set to [2.0, 2.0].</li>
<li><strong>pad_color</strong> &#8211; padding color. A rank 1 tensor of [3] with dtype=tf.float32.
if set as None, it will be set to average color of the randomly
cropped image.</li>
<li><strong>seed</strong> &#8211; random seed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>padded image.
padded_boxes: boxes which is the same rank as input boxes. Boxes are in</p>
<blockquote>
<div><p>normalized form.</p>
</div></blockquote>
<p>cropped_labels: cropped labels.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">padded_image</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.random_crop_to_aspect_ratio">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">random_crop_to_aspect_ratio</code><span class="sig-paren">(</span><em>image</em>, <em>boxes</em>, <em>labels</em>, <em>masks=None</em>, <em>keypoints=None</em>, <em>aspect_ratio=1.0</em>, <em>overlap_thresh=0.3</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.random_crop_to_aspect_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomly crops an image to the specified aspect ratio.</p>
<p>Randomly crops the a portion of the image such that the crop is of the
specified aspect ratio, and the crop is as large as possible. If the specified
aspect ratio is larger than the aspect ratio of the image, this op will
randomly remove rows from the top and bottom of the image. If the specified
aspect ratio is less than the aspect ratio of the image, this op will randomly
remove cols from the left and right of the image. If the specified aspect
ratio is the same as the aspect ratio of the image, this op will return the
image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; rank 3 float32 tensor contains 1 image -&gt; [height, width, channels]
with pixel values varying between [0, 1].</li>
<li><strong>boxes</strong> &#8211; rank 2 float32 tensor containing the bounding boxes -&gt; [N, 4].
Boxes are in normalized form meaning their coordinates vary
between [0, 1].
Each row is in the form of [ymin, xmin, ymax, xmax].</li>
<li><strong>labels</strong> &#8211; rank 1 int32 tensor containing the object classes.</li>
<li><strong>masks</strong> &#8211; (optional) rank 3 float32 tensor with shape
[num_instances, height, width] containing instance masks. The masks
are of the same height, width as the input <cite>image</cite>.</li>
<li><strong>keypoints</strong> &#8211; (optional) rank 3 float32 tensor with shape
[num_instances, num_keypoints, 2]. The keypoints are in y-x
normalized coordinates.</li>
<li><strong>aspect_ratio</strong> &#8211; the aspect ratio of cropped image.</li>
<li><strong>overlap_thresh</strong> &#8211; minimum overlap thresh with new cropped
image to keep the box.</li>
<li><strong>seed</strong> &#8211; random seed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>image which is the same rank as input image.
boxes: boxes which is the same rank as input boxes.</p>
<blockquote>
<div><p>Boxes are in normalized form.</p>
</div></blockquote>
<p>labels: new labels.</p>
<p>If masks, or keypoints is not None, the function also returns:</p>
<dl class="docutils">
<dt>masks: rank 3 float32 tensor with shape [num_instances, height, width]</dt>
<dd><p class="first last">containing instance masks.</p>
</dd>
<dt>keypoints: rank 3 float32 tensor with shape</dt>
<dd><p class="first last">[num_instances, num_keypoints, 2]</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#object_detection.core.standard_fields.InputDataFields.image" title="object_detection.core.standard_fields.InputDataFields.image">image</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; If image is not a 3D tensor.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.random_distort_color">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">random_distort_color</code><span class="sig-paren">(</span><em>image</em>, <em>color_ordering=0</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.random_distort_color" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomly distorts color.</p>
<p>Randomly distorts color using a combination of brightness, hue, contrast
and saturation changes. Makes sure the output image is still between 0 and 1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; rank 3 float32 tensor contains 1 image -&gt; [height, width, channels]
with pixel values varying between [0, 1].</li>
<li><strong>color_ordering</strong> &#8211; Python int, a type of distortion (valid values: 0, 1).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">image which is the same shape as input image.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#object_detection.core.standard_fields.InputDataFields.image" title="object_detection.core.standard_fields.InputDataFields.image">image</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if color_ordering is not in {0, 1}.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.random_horizontal_flip">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">random_horizontal_flip</code><span class="sig-paren">(</span><em>image</em>, <em>boxes=None</em>, <em>masks=None</em>, <em>keypoints=None</em>, <em>keypoint_flip_permutation=None</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.random_horizontal_flip" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomly decides whether to mirror the image and detections or not.</p>
<p>The probability of flipping the image is 50%.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; rank 3 float32 tensor with shape [height, width, channels].</li>
<li><strong>boxes</strong> &#8211; (optional) rank 2 float32 tensor with shape [N, 4]
containing the bounding boxes.
Boxes are in normalized form meaning their coordinates vary
between [0, 1].
Each row is in the form of [ymin, xmin, ymax, xmax].</li>
<li><strong>masks</strong> &#8211; (optional) rank 3 float32 tensor with shape
[num_instances, height, width] containing instance masks. The masks
are of the same height, width as the input <cite>image</cite>.</li>
<li><strong>keypoints</strong> &#8211; (optional) rank 3 float32 tensor with shape
[num_instances, num_keypoints, 2]. The keypoints are in y-x
normalized coordinates.</li>
<li><strong>keypoint_flip_permutation</strong> &#8211; rank 1 int32 tensor containing keypoint flip
permutation.</li>
<li><strong>seed</strong> &#8211; random seed</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>image which is the same shape as input image.</p>
<p>If boxes, masks, keypoints, and keypoint_flip_permutation is not None,
the function also returns the following tensors.</p>
<dl class="docutils">
<dt>boxes: rank 2 float32 tensor containing the bounding boxes -&gt; [N, 4].</dt>
<dd><p class="first last">Boxes are in normalized form meaning their coordinates vary
between [0, 1].</p>
</dd>
<dt>masks: rank 3 float32 tensor with shape [num_instances, height, width]</dt>
<dd><p class="first last">containing instance masks.</p>
</dd>
<dt>keypoints: rank 3 float32 tensor with shape</dt>
<dd><p class="first last">[num_instances, num_keypoints, 2]</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#object_detection.core.standard_fields.InputDataFields.image" title="object_detection.core.standard_fields.InputDataFields.image">image</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if keypoints are provided but keypoint_flip_permutation is not.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.random_image_scale">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">random_image_scale</code><span class="sig-paren">(</span><em>image</em>, <em>masks=None</em>, <em>min_scale_ratio=0.5</em>, <em>max_scale_ratio=2.0</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.random_image_scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Scales the image size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; rank 3 float32 tensor contains 1 image -&gt; [height, width, channels].</li>
<li><strong>masks</strong> &#8211; (optional) rank 3 float32 tensor containing masks with
size [height, width, num_masks]. The value is set to None if there are no
masks.</li>
<li><strong>min_scale_ratio</strong> &#8211; minimum scaling ratio.</li>
<li><strong>max_scale_ratio</strong> &#8211; maximum scaling ratio.</li>
<li><strong>seed</strong> &#8211; random seed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>image which is the same rank as input image.
masks: If masks is not none, resized masks which are the same rank as input</p>
<blockquote>
<div><p>masks will be returned.</p>
</div></blockquote>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#object_detection.core.standard_fields.InputDataFields.image" title="object_detection.core.standard_fields.InputDataFields.image">image</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.random_jitter_boxes">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">random_jitter_boxes</code><span class="sig-paren">(</span><em>boxes</em>, <em>ratio=0.05</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.random_jitter_boxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomly jitter boxes in image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxes</strong> &#8211; rank 2 float32 tensor containing the bounding boxes -&gt; [N, 4].
Boxes are in normalized form meaning their coordinates vary
between [0, 1].
Each row is in the form of [ymin, xmin, ymax, xmax].</li>
<li><strong>ratio</strong> &#8211; The ratio of the box width and height that the corners can jitter.
For example if the width is 100 pixels and ratio is 0.05,
the corners can jitter up to 5 pixels in the x direction.</li>
<li><strong>seed</strong> &#8211; random seed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">boxes which is the same shape as input boxes.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#object_detection.core.standard_fields.BoxListFields.boxes" title="object_detection.core.standard_fields.BoxListFields.boxes">boxes</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.random_pad_image">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">random_pad_image</code><span class="sig-paren">(</span><em>image</em>, <em>boxes</em>, <em>min_image_size=None</em>, <em>max_image_size=None</em>, <em>pad_color=None</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.random_pad_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomly pads the image.</p>
<p>This function randomly pads the image with zeros. The final size of the
padded image will be between min_image_size and max_image_size.
if min_image_size is smaller than the input image size, min_image_size will
be set to the input image size. The same for max_image_size. The input image
will be located at a uniformly random location inside the padded image.
The relative location of the boxes to the original image will remain the same.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; rank 3 float32 tensor containing 1 image -&gt; [height, width, channels]
with pixel values varying between [0, 1].</li>
<li><strong>boxes</strong> &#8211; rank 2 float32 tensor containing the bounding boxes -&gt; [N, 4].
Boxes are in normalized form meaning their coordinates vary
between [0, 1].
Each row is in the form of [ymin, xmin, ymax, xmax].</li>
<li><strong>min_image_size</strong> &#8211; a tensor of size [min_height, min_width], type tf.int32.
If passed as None, will be set to image size
[height, width].</li>
<li><strong>max_image_size</strong> &#8211; a tensor of size [max_height, max_width], type tf.int32.
If passed as None, will be set to twice the
image [height * 2, width * 2].</li>
<li><strong>pad_color</strong> &#8211; padding color. A rank 1 tensor of [3] with dtype=tf.float32.
if set as None, it will be set to average color of the input
image.</li>
<li><strong>seed</strong> &#8211; random seed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>Image shape will be [new_height, new_width, channels].
boxes: boxes which is the same rank as input boxes. Boxes are in normalized</p>
<blockquote>
<div><p>form.</p>
</div></blockquote>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#object_detection.core.standard_fields.InputDataFields.image" title="object_detection.core.standard_fields.InputDataFields.image">image</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.random_pixel_value_scale">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">random_pixel_value_scale</code><span class="sig-paren">(</span><em>image</em>, <em>minval=0.9</em>, <em>maxval=1.1</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.random_pixel_value_scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Scales each value in the pixels of the image.</p>
<blockquote>
<div>This function scales each pixel independent of the other ones.
For each value in image tensor, draws a random number between
minval and maxval and multiples the values with them.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; rank 3 float32 tensor contains 1 image -&gt; [height, width, channels]
with pixel values varying between [0, 1].</li>
<li><strong>minval</strong> &#8211; lower ratio of scaling pixel values.</li>
<li><strong>maxval</strong> &#8211; upper ratio of scaling pixel values.</li>
<li><strong>seed</strong> &#8211; random seed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">image which is the same shape as input image.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#object_detection.core.standard_fields.InputDataFields.image" title="object_detection.core.standard_fields.InputDataFields.image">image</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.random_resize_method">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">random_resize_method</code><span class="sig-paren">(</span><em>image</em>, <em>target_size</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.random_resize_method" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses a random resize method to resize the image to target size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; a rank 3 tensor.</li>
<li><strong>target_size</strong> &#8211; a list of [target_height, target_width]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">resized image.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.random_rgb_to_gray">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">random_rgb_to_gray</code><span class="sig-paren">(</span><em>image</em>, <em>probability=0.1</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.random_rgb_to_gray" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the image from RGB to Grayscale with the given probability.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; rank 3 float32 tensor contains 1 image -&gt; [height, width, channels]
with pixel values varying between [0, 1].</li>
<li><strong>probability</strong> &#8211; the probability of returning a grayscale image.
The probability should be a number between [0, 1].</li>
<li><strong>seed</strong> &#8211; random seed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">image which is the same shape as input image.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#object_detection.core.standard_fields.InputDataFields.image" title="object_detection.core.standard_fields.InputDataFields.image">image</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.resize_image">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">resize_image</code><span class="sig-paren">(</span><em>image</em>, <em>masks=None</em>, <em>new_height=600</em>, <em>new_width=1024</em>, <em>method=0</em>, <em>align_corners=False</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.resize_image" title="Permalink to this definition">¶</a></dt>
<dd><p>See <cite>tf.image.resize_images</cite> for detailed doc.</p>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.resize_to_range">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">resize_to_range</code><span class="sig-paren">(</span><em>image</em>, <em>masks=None</em>, <em>min_dimension=None</em>, <em>max_dimension=None</em>, <em>align_corners=False</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.resize_to_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Resizes an image so its dimensions are within the provided value.</p>
<p>The output size can be described by two cases:
1. If the image can be rescaled so its minimum dimension is equal to the</p>
<blockquote>
<div>provided value without the other dimension exceeding max_dimension,
then do so.</div></blockquote>
<ol class="arabic simple" start="2">
<li>Otherwise, resize so the largest dimension is equal to max_dimension.</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; A 3D tensor of shape [height, width, channels]</li>
<li><strong>masks</strong> &#8211; (optional) rank 3 float32 tensor with shape
[num_instances, height, width] containing instance masks.</li>
<li><strong>min_dimension</strong> &#8211; (optional) (scalar) desired size of the smaller image
dimension.</li>
<li><strong>max_dimension</strong> &#8211; (optional) (scalar) maximum allowed size
of the larger image dimension.</li>
<li><strong>align_corners</strong> &#8211; bool. If true, exactly align all 4 corners of the input
and output. Defaults to False.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>A 3D tensor of shape [new_height, new_width, channels],
where the image has been resized (with bilinear interpolation) so that
min(new_height, new_width) == min_dimension or
max(new_height, new_width) == max_dimension.</p>
<p>If masks is not None, also outputs masks:
A 3D tensor of shape [num_instances, new_height, new_width]</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if the image is not a 3D tensor.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.retain_boxes_above_threshold">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">retain_boxes_above_threshold</code><span class="sig-paren">(</span><em>boxes</em>, <em>labels</em>, <em>label_scores</em>, <em>masks=None</em>, <em>keypoints=None</em>, <em>threshold=0.0</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.retain_boxes_above_threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>Retains boxes whose label score is above a given threshold.</p>
<p>If the label score for a box is missing (represented by NaN), the box is
retained. The boxes that don&#8217;t pass the threshold will not appear in the
returned tensor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxes</strong> &#8211; float32 tensor of shape [num_instance, 4] representing boxes
location in normalized coordinates.</li>
<li><strong>labels</strong> &#8211; rank 1 int32 tensor of shape [num_instance] containing the object
classes.</li>
<li><strong>label_scores</strong> &#8211; float32 tensor of shape [num_instance] representing the
score for each box.</li>
<li><strong>masks</strong> &#8211; (optional) rank 3 float32 tensor with shape
[num_instances, height, width] containing instance masks. The masks are of
the same height, width as the input <cite>image</cite>.</li>
<li><strong>keypoints</strong> &#8211; (optional) rank 3 float32 tensor with shape
[num_instances, num_keypoints, 2]. The keypoints are in y-x normalized
coordinates.</li>
<li><strong>threshold</strong> &#8211; scalar python float.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>[num_retained_instance, 4]
retianed_labels: [num_retained_instance]
retained_label_scores: [num_retained_instance]</p>
<p>If masks, or keypoints are not None, the function also returns:</p>
<p>retained_masks: [num_retained_instance, height, width]
retained_keypoints: [num_retained_instance, num_keypoints, 2]</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">retained_boxes</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.rgb_to_gray">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">rgb_to_gray</code><span class="sig-paren">(</span><em>image</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.rgb_to_gray" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a 3 channel RGB image to a 1 channel grayscale image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>image</strong> &#8211; Rank 3 float32 tensor containing 1 image -&gt; [height, width, 3]
with pixel values varying between [0, 1].</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A single channel grayscale image -&gt; [image, height, 1].</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#object_detection.core.standard_fields.InputDataFields.image" title="object_detection.core.standard_fields.InputDataFields.image">image</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.scale_boxes_to_pixel_coordinates">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">scale_boxes_to_pixel_coordinates</code><span class="sig-paren">(</span><em>image</em>, <em>boxes</em>, <em>keypoints=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.scale_boxes_to_pixel_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Scales boxes from normalized to pixel coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; A 3D float32 tensor of shape [height, width, channels].</li>
<li><strong>boxes</strong> &#8211; A 2D float32 tensor of shape [num_boxes, 4] containing the bounding
boxes in normalized coordinates. Each row is of the form
[ymin, xmin, ymax, xmax].</li>
<li><strong>keypoints</strong> &#8211; (optional) rank 3 float32 tensor with shape
[num_instances, num_keypoints, 2]. The keypoints are in y-x normalized
coordinates.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>unchanged input image.
scaled_boxes: a 2D float32 tensor of shape [num_boxes, 4] containing the</p>
<blockquote>
<div><p>bounding boxes in pixel coordinates.</p>
</div></blockquote>
<dl class="docutils">
<dt>scaled_keypoints: a 3D float32 tensor with shape</dt>
<dd><p class="first last">[num_instances, num_keypoints, 2] containing the keypoints in pixel
coordinates.</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#object_detection.core.standard_fields.InputDataFields.image" title="object_detection.core.standard_fields.InputDataFields.image">image</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.ssd_random_crop">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">ssd_random_crop</code><span class="sig-paren">(</span><em>image</em>, <em>boxes</em>, <em>labels</em>, <em>masks=None</em>, <em>keypoints=None</em>, <em>min_object_covered=(0.0</em>, <em>0.1</em>, <em>0.3</em>, <em>0.5</em>, <em>0.7</em>, <em>0.9</em>, <em>1.0)</em>, <em>aspect_ratio_range=((0.5</em>, <em>2.0)</em>, <em>(0.5</em>, <em>2.0)</em>, <em>(0.5</em>, <em>2.0)</em>, <em>(0.5</em>, <em>2.0)</em>, <em>(0.5</em>, <em>2.0)</em>, <em>(0.5</em>, <em>2.0)</em>, <em>(0.5</em>, <em>2.0))</em>, <em>area_range=((0.1</em>, <em>1.0)</em>, <em>(0.1</em>, <em>1.0)</em>, <em>(0.1</em>, <em>1.0)</em>, <em>(0.1</em>, <em>1.0)</em>, <em>(0.1</em>, <em>1.0)</em>, <em>(0.1</em>, <em>1.0)</em>, <em>(0.1</em>, <em>1.0))</em>, <em>overlap_thresh=(0.0</em>, <em>0.1</em>, <em>0.3</em>, <em>0.5</em>, <em>0.7</em>, <em>0.9</em>, <em>1.0)</em>, <em>random_coef=(0.15</em>, <em>0.15</em>, <em>0.15</em>, <em>0.15</em>, <em>0.15</em>, <em>0.15</em>, <em>0.15)</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.ssd_random_crop" title="Permalink to this definition">¶</a></dt>
<dd><p>Random crop preprocessing with default parameters as in SSD paper.</p>
<p>Liu et al., SSD: Single shot multibox detector.
For further information on random crop preprocessing refer to RandomCrop
function above.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; rank 3 float32 tensor contains 1 image -&gt; [height, width, channels]
with pixel values varying between [0, 1].</li>
<li><strong>boxes</strong> &#8211; rank 2 float32 tensor containing the bounding boxes -&gt; [N, 4].
Boxes are in normalized form meaning their coordinates vary
between [0, 1].
Each row is in the form of [ymin, xmin, ymax, xmax].</li>
<li><strong>labels</strong> &#8211; rank 1 int32 tensor containing the object classes.</li>
<li><strong>masks</strong> &#8211; (optional) rank 3 float32 tensor with shape
[num_instances, height, width] containing instance masks. The masks
are of the same height, width as the input <cite>image</cite>.</li>
<li><strong>keypoints</strong> &#8211; (optional) rank 3 float32 tensor with shape
[num_instances, num_keypoints, 2]. The keypoints are in y-x
normalized coordinates.</li>
<li><strong>min_object_covered</strong> &#8211; the cropped image must cover at least this fraction of
at least one of the input bounding boxes.</li>
<li><strong>aspect_ratio_range</strong> &#8211; allowed range for aspect ratio of cropped image.</li>
<li><strong>area_range</strong> &#8211; allowed range for area ratio between cropped image and the
original image.</li>
<li><strong>overlap_thresh</strong> &#8211; minimum overlap thresh with new cropped
image to keep the box.</li>
<li><strong>random_coef</strong> &#8211; a random coefficient that defines the chance of getting the
original image. If random_coef is 0, we will always get the
cropped image, and if it is 1.0, we will always get the
original image.</li>
<li><strong>seed</strong> &#8211; random seed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>image which is the same rank as input image.
boxes: boxes which is the same rank as input boxes.</p>
<blockquote>
<div><p>Boxes are in normalized form.</p>
</div></blockquote>
<p>labels: new labels.</p>
<p>If masks, or keypoints is not None, the function also returns:</p>
<dl class="docutils">
<dt>masks: rank 3 float32 tensor with shape [num_instances, height, width]</dt>
<dd><p class="first last">containing instance masks.</p>
</dd>
<dt>keypoints: rank 3 float32 tensor with shape</dt>
<dd><p class="first last">[num_instances, num_keypoints, 2]</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#object_detection.core.standard_fields.InputDataFields.image" title="object_detection.core.standard_fields.InputDataFields.image">image</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.ssd_random_crop_fixed_aspect_ratio">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">ssd_random_crop_fixed_aspect_ratio</code><span class="sig-paren">(</span><em>image</em>, <em>boxes</em>, <em>labels</em>, <em>masks=None</em>, <em>keypoints=None</em>, <em>min_object_covered=(0.0</em>, <em>0.1</em>, <em>0.3</em>, <em>0.5</em>, <em>0.7</em>, <em>0.9</em>, <em>1.0)</em>, <em>aspect_ratio=1.0</em>, <em>area_range=((0.1</em>, <em>1.0)</em>, <em>(0.1</em>, <em>1.0)</em>, <em>(0.1</em>, <em>1.0)</em>, <em>(0.1</em>, <em>1.0)</em>, <em>(0.1</em>, <em>1.0)</em>, <em>(0.1</em>, <em>1.0)</em>, <em>(0.1</em>, <em>1.0))</em>, <em>overlap_thresh=(0.0</em>, <em>0.1</em>, <em>0.3</em>, <em>0.5</em>, <em>0.7</em>, <em>0.9</em>, <em>1.0)</em>, <em>random_coef=(0.15</em>, <em>0.15</em>, <em>0.15</em>, <em>0.15</em>, <em>0.15</em>, <em>0.15</em>, <em>0.15)</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.ssd_random_crop_fixed_aspect_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Random crop preprocessing with default parameters as in SSD paper.</p>
<p>Liu et al., SSD: Single shot multibox detector.
For further information on random crop preprocessing refer to RandomCrop
function above.</p>
<p>The only difference is that the aspect ratio of the crops are fixed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; rank 3 float32 tensor contains 1 image -&gt; [height, width, channels]
with pixel values varying between [0, 1].</li>
<li><strong>boxes</strong> &#8211; rank 2 float32 tensor containing the bounding boxes -&gt; [N, 4].
Boxes are in normalized form meaning their coordinates vary
between [0, 1].
Each row is in the form of [ymin, xmin, ymax, xmax].</li>
<li><strong>labels</strong> &#8211; rank 1 int32 tensor containing the object classes.</li>
<li><strong>masks</strong> &#8211; (optional) rank 3 float32 tensor with shape
[num_instances, height, width] containing instance masks. The masks
are of the same height, width as the input <cite>image</cite>.</li>
<li><strong>keypoints</strong> &#8211; (optional) rank 3 float32 tensor with shape
[num_instances, num_keypoints, 2]. The keypoints are in y-x
normalized coordinates.</li>
<li><strong>min_object_covered</strong> &#8211; the cropped image must cover at least this fraction of
at least one of the input bounding boxes.</li>
<li><strong>aspect_ratio</strong> &#8211; aspect ratio of the cropped image.</li>
<li><strong>area_range</strong> &#8211; allowed range for area ratio between cropped image and the
original image.</li>
<li><strong>overlap_thresh</strong> &#8211; minimum overlap thresh with new cropped
image to keep the box.</li>
<li><strong>random_coef</strong> &#8211; a random coefficient that defines the chance of getting the
original image. If random_coef is 0, we will always get the
cropped image, and if it is 1.0, we will always get the
original image.</li>
<li><strong>seed</strong> &#8211; random seed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>image which is the same rank as input image.
boxes: boxes which is the same rank as input boxes.</p>
<blockquote>
<div><p>Boxes are in normalized form.</p>
</div></blockquote>
<p>labels: new labels.</p>
<p>If masks, or keypoints is not None, the function also returns:</p>
<dl class="docutils">
<dt>masks: rank 3 float32 tensor with shape [num_instances, height, width]</dt>
<dd><p class="first last">containing instance masks.</p>
</dd>
<dt>keypoints: rank 3 float32 tensor with shape</dt>
<dd><p class="first last">[num_instances, num_keypoints, 2]</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#object_detection.core.standard_fields.InputDataFields.image" title="object_detection.core.standard_fields.InputDataFields.image">image</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.ssd_random_crop_pad">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">ssd_random_crop_pad</code><span class="sig-paren">(</span><em>image</em>, <em>boxes</em>, <em>labels</em>, <em>min_object_covered=(0.1</em>, <em>0.3</em>, <em>0.5</em>, <em>0.7</em>, <em>0.9</em>, <em>1.0)</em>, <em>aspect_ratio_range=((0.5</em>, <em>2.0)</em>, <em>(0.5</em>, <em>2.0)</em>, <em>(0.5</em>, <em>2.0)</em>, <em>(0.5</em>, <em>2.0)</em>, <em>(0.5</em>, <em>2.0)</em>, <em>(0.5</em>, <em>2.0))</em>, <em>area_range=((0.1</em>, <em>1.0)</em>, <em>(0.1</em>, <em>1.0)</em>, <em>(0.1</em>, <em>1.0)</em>, <em>(0.1</em>, <em>1.0)</em>, <em>(0.1</em>, <em>1.0)</em>, <em>(0.1</em>, <em>1.0))</em>, <em>overlap_thresh=(0.1</em>, <em>0.3</em>, <em>0.5</em>, <em>0.7</em>, <em>0.9</em>, <em>1.0)</em>, <em>random_coef=(0.15</em>, <em>0.15</em>, <em>0.15</em>, <em>0.15</em>, <em>0.15</em>, <em>0.15)</em>, <em>min_padded_size_ratio=(None</em>, <em>None</em>, <em>None</em>, <em>None</em>, <em>None</em>, <em>None)</em>, <em>max_padded_size_ratio=(None</em>, <em>None</em>, <em>None</em>, <em>None</em>, <em>None</em>, <em>None)</em>, <em>pad_color=(None</em>, <em>None</em>, <em>None</em>, <em>None</em>, <em>None</em>, <em>None)</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.ssd_random_crop_pad" title="Permalink to this definition">¶</a></dt>
<dd><p>Random crop preprocessing with default parameters as in SSD paper.</p>
<p>Liu et al., SSD: Single shot multibox detector.
For further information on random crop preprocessing refer to RandomCrop
function above.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; rank 3 float32 tensor containing 1 image -&gt; [height, width, channels]
with pixel values varying between [0, 1].</li>
<li><strong>boxes</strong> &#8211; rank 2 float32 tensor containing the bounding boxes -&gt; [N, 4].
Boxes are in normalized form meaning their coordinates vary
between [0, 1].
Each row is in the form of [ymin, xmin, ymax, xmax].</li>
<li><strong>labels</strong> &#8211; rank 1 int32 tensor containing the object classes.</li>
<li><strong>min_object_covered</strong> &#8211; the cropped image must cover at least this fraction of
at least one of the input bounding boxes.</li>
<li><strong>aspect_ratio_range</strong> &#8211; allowed range for aspect ratio of cropped image.</li>
<li><strong>area_range</strong> &#8211; allowed range for area ratio between cropped image and the
original image.</li>
<li><strong>overlap_thresh</strong> &#8211; minimum overlap thresh with new cropped
image to keep the box.</li>
<li><strong>random_coef</strong> &#8211; a random coefficient that defines the chance of getting the
original image. If random_coef is 0, we will always get the
cropped image, and if it is 1.0, we will always get the
original image.</li>
<li><strong>min_padded_size_ratio</strong> &#8211; min ratio of padded image height and width to the
input image&#8217;s height and width. If None, it will
be set to [0.0, 0.0].</li>
<li><strong>max_padded_size_ratio</strong> &#8211; max ratio of padded image height and width to the
input image&#8217;s height and width. If None, it will
be set to [2.0, 2.0].</li>
<li><strong>pad_color</strong> &#8211; padding color. A rank 1 tensor of [3] with dtype=tf.float32.
if set as None, it will be set to average color of the randomly
cropped image.</li>
<li><strong>seed</strong> &#8211; random seed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>Image shape will be [new_height, new_width, channels].
boxes: boxes which is the same rank as input boxes. Boxes are in normalized</p>
<blockquote>
<div><p>form.</p>
</div></blockquote>
<p>new_labels: new labels.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#object_detection.core.standard_fields.InputDataFields.image" title="object_detection.core.standard_fields.InputDataFields.image">image</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.preprocessor.subtract_channel_mean">
<code class="descclassname">object_detection.core.preprocessor.</code><code class="descname">subtract_channel_mean</code><span class="sig-paren">(</span><em>image</em>, <em>means=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor.subtract_channel_mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalizes an image by subtracting a mean from each channel.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> &#8211; A 3D tensor of shape [height, width, channels]</li>
<li><strong>means</strong> &#8211; float list containing a mean for each channel</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a tensor of shape [height, width, channels]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">normalized_images</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if images is not a 4D tensor or if the number of means is not
equal to the number of channels.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-object_detection.core.preprocessor_test">
<span id="object-detection-core-preprocessor-test-module"></span><h2>object_detection.core.preprocessor_test module<a class="headerlink" href="#module-object_detection.core.preprocessor_test" title="Permalink to this headline">¶</a></h2>
<p>Tests for object_detection.core.preprocessor.</p>
<dl class="class">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest">
<em class="property">class </em><code class="descclassname">object_detection.core.preprocessor_test.</code><code class="descname">PreprocessorTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.createColorfulTestImage">
<code class="descname">createColorfulTestImage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.createColorfulTestImage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.createKeypointFlipPermutation">
<code class="descname">createKeypointFlipPermutation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.createKeypointFlipPermutation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.createTestBoxes">
<code class="descname">createTestBoxes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.createTestBoxes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.createTestBoxesOutOfImage">
<code class="descname">createTestBoxesOutOfImage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.createTestBoxesOutOfImage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.createTestImages">
<code class="descname">createTestImages</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.createTestImages" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.createTestKeypoints">
<code class="descname">createTestKeypoints</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.createTestKeypoints" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.createTestKeypointsInsideCrop">
<code class="descname">createTestKeypointsInsideCrop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.createTestKeypointsInsideCrop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.createTestKeypointsOutsideCrop">
<code class="descname">createTestKeypointsOutsideCrop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.createTestKeypointsOutsideCrop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.createTestLabelScores">
<code class="descname">createTestLabelScores</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.createTestLabelScores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.createTestLabelScoresWithMissingScore">
<code class="descname">createTestLabelScoresWithMissingScore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.createTestLabelScoresWithMissingScore" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.createTestLabels">
<code class="descname">createTestLabels</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.createTestLabels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.createTestMasks">
<code class="descname">createTestMasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.createTestMasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.expectedBoxesAfterMirroring">
<code class="descname">expectedBoxesAfterMirroring</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.expectedBoxesAfterMirroring" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.expectedBoxesAfterThresholding">
<code class="descname">expectedBoxesAfterThresholding</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.expectedBoxesAfterThresholding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.expectedBoxesAfterThresholdingWithMissingScore">
<code class="descname">expectedBoxesAfterThresholdingWithMissingScore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.expectedBoxesAfterThresholdingWithMissingScore" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.expectedBoxesAfterXY">
<code class="descname">expectedBoxesAfterXY</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.expectedBoxesAfterXY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.expectedImagesAfterMirroring">
<code class="descname">expectedImagesAfterMirroring</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.expectedImagesAfterMirroring" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.expectedImagesAfterNormalization">
<code class="descname">expectedImagesAfterNormalization</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.expectedImagesAfterNormalization" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.expectedKeypointsAfterThresholding">
<code class="descname">expectedKeypointsAfterThresholding</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.expectedKeypointsAfterThresholding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.expectedLabelScoresAfterThresholding">
<code class="descname">expectedLabelScoresAfterThresholding</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.expectedLabelScoresAfterThresholding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.expectedLabelScoresAfterThresholdingWithMissingScore">
<code class="descname">expectedLabelScoresAfterThresholdingWithMissingScore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.expectedLabelScoresAfterThresholdingWithMissingScore" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.expectedLabelsAfterThresholding">
<code class="descname">expectedLabelsAfterThresholding</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.expectedLabelsAfterThresholding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.expectedLabelsAfterThresholdingWithMissingScore">
<code class="descname">expectedLabelsAfterThresholdingWithMissingScore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.expectedLabelsAfterThresholdingWithMissingScore" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.expectedMasksAfterMirroring">
<code class="descname">expectedMasksAfterMirroring</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.expectedMasksAfterMirroring" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.expectedMasksAfterThresholding">
<code class="descname">expectedMasksAfterThresholding</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.expectedMasksAfterThresholding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.expectedMaxImageAfterColorScale">
<code class="descname">expectedMaxImageAfterColorScale</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.expectedMaxImageAfterColorScale" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.expectedMinImageAfterColorScale">
<code class="descname">expectedMinImageAfterColorScale</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.expectedMinImageAfterColorScale" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testFlipMasks">
<code class="descname">testFlipMasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testFlipMasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testNormalizeImage">
<code class="descname">testNormalizeImage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testNormalizeImage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testOneHotEncoding">
<code class="descname">testOneHotEncoding</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testOneHotEncoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests one hot encoding of multiclass labels.</p>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRandomAdjustBrightness">
<code class="descname">testRandomAdjustBrightness</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRandomAdjustBrightness" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRandomAdjustContrast">
<code class="descname">testRandomAdjustContrast</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRandomAdjustContrast" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRandomAdjustHue">
<code class="descname">testRandomAdjustHue</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRandomAdjustHue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRandomBlackPatches">
<code class="descname">testRandomBlackPatches</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRandomBlackPatches" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRandomCropImage">
<code class="descname">testRandomCropImage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRandomCropImage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRandomCropImageGrayscale">
<code class="descname">testRandomCropImageGrayscale</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRandomCropImageGrayscale" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRandomCropImageWithBoxOutOfImage">
<code class="descname">testRandomCropImageWithBoxOutOfImage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRandomCropImageWithBoxOutOfImage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRandomCropImageWithRandomCoefOne">
<code class="descname">testRandomCropImageWithRandomCoefOne</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRandomCropImageWithRandomCoefOne" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRandomCropPadImageWithRandomCoefOne">
<code class="descname">testRandomCropPadImageWithRandomCoefOne</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRandomCropPadImageWithRandomCoefOne" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRandomCropToAspectRatio">
<code class="descname">testRandomCropToAspectRatio</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRandomCropToAspectRatio" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRandomCropWithMockSampleDistortedBoundingBox">
<code class="descname">testRandomCropWithMockSampleDistortedBoundingBox</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRandomCropWithMockSampleDistortedBoundingBox" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRandomDistortColor">
<code class="descname">testRandomDistortColor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRandomDistortColor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRandomFlipBoxes">
<code class="descname">testRandomFlipBoxes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRandomFlipBoxes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRandomHorizontalFlip">
<code class="descname">testRandomHorizontalFlip</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRandomHorizontalFlip" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRandomImageScale">
<code class="descname">testRandomImageScale</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRandomImageScale" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRandomJitterBoxes">
<code class="descname">testRandomJitterBoxes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRandomJitterBoxes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRandomPadImage">
<code class="descname">testRandomPadImage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRandomPadImage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRandomPixelValueScale">
<code class="descname">testRandomPixelValueScale</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRandomPixelValueScale" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRandomRGBtoGray">
<code class="descname">testRandomRGBtoGray</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRandomRGBtoGray" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRandomResizeMethod">
<code class="descname">testRandomResizeMethod</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRandomResizeMethod" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testResizeToRange4DImageTensor">
<code class="descname">testResizeToRange4DImageTensor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testResizeToRange4DImageTensor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testResizeToRangePreservesStaticSpatialShape">
<code class="descname">testResizeToRangePreservesStaticSpatialShape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testResizeToRangePreservesStaticSpatialShape" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests image resizing, checking output sizes.</p>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testResizeToRangeSameMinMax">
<code class="descname">testResizeToRangeSameMinMax</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testResizeToRangeSameMinMax" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests image resizing, checking output sizes.</p>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testResizeToRangeWithDynamicSpatialShape">
<code class="descname">testResizeToRangeWithDynamicSpatialShape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testResizeToRangeWithDynamicSpatialShape" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests image resizing, checking output sizes.</p>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testResizeToRangeWithInstanceMasksTensorOfSizeZero">
<code class="descname">testResizeToRangeWithInstanceMasksTensorOfSizeZero</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testResizeToRangeWithInstanceMasksTensorOfSizeZero" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests image resizing, checking output sizes.</p>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testResizeToRangeWithMasksAndDynamicSpatialShape">
<code class="descname">testResizeToRangeWithMasksAndDynamicSpatialShape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testResizeToRangeWithMasksAndDynamicSpatialShape" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests image resizing, checking output sizes.</p>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testResizeToRangeWithMasksPreservesStaticSpatialShape">
<code class="descname">testResizeToRangeWithMasksPreservesStaticSpatialShape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testResizeToRangeWithMasksPreservesStaticSpatialShape" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests image resizing, checking output sizes.</p>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRetainBoxesAboveThreshold">
<code class="descname">testRetainBoxesAboveThreshold</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRetainBoxesAboveThreshold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRetainBoxesAboveThresholdWithKeypoints">
<code class="descname">testRetainBoxesAboveThresholdWithKeypoints</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRetainBoxesAboveThresholdWithKeypoints" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRetainBoxesAboveThresholdWithMasks">
<code class="descname">testRetainBoxesAboveThresholdWithMasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRetainBoxesAboveThresholdWithMasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRetainBoxesAboveThresholdWithMissingScore">
<code class="descname">testRetainBoxesAboveThresholdWithMissingScore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRetainBoxesAboveThresholdWithMissingScore" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRunRandomCropImageWithKeypointsInsideCrop">
<code class="descname">testRunRandomCropImageWithKeypointsInsideCrop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRunRandomCropImageWithKeypointsInsideCrop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRunRandomCropImageWithKeypointsOutsideCrop">
<code class="descname">testRunRandomCropImageWithKeypointsOutsideCrop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRunRandomCropImageWithKeypointsOutsideCrop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRunRandomCropImageWithMasks">
<code class="descname">testRunRandomCropImageWithMasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRunRandomCropImageWithMasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRunRandomCropToAspectRatioWithKeypoints">
<code class="descname">testRunRandomCropToAspectRatioWithKeypoints</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRunRandomCropToAspectRatioWithKeypoints" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRunRandomCropToAspectRatioWithMasks">
<code class="descname">testRunRandomCropToAspectRatioWithMasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRunRandomCropToAspectRatioWithMasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRunRandomHorizontalFlipWithMaskAndKeypoints">
<code class="descname">testRunRandomHorizontalFlipWithMaskAndKeypoints</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRunRandomHorizontalFlipWithMaskAndKeypoints" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRunRetainBoxesAboveThreshold">
<code class="descname">testRunRetainBoxesAboveThreshold</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRunRetainBoxesAboveThreshold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRunRetainBoxesAboveThresholdWithKeypoints">
<code class="descname">testRunRetainBoxesAboveThresholdWithKeypoints</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRunRetainBoxesAboveThresholdWithKeypoints" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testRunRetainBoxesAboveThresholdWithMasks">
<code class="descname">testRunRetainBoxesAboveThresholdWithMasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testRunRetainBoxesAboveThresholdWithMasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testSSDRandomCrop">
<code class="descname">testSSDRandomCrop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testSSDRandomCrop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testSSDRandomCropFixedAspectRatio">
<code class="descname">testSSDRandomCropFixedAspectRatio</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testSSDRandomCropFixedAspectRatio" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testSSDRandomCropFixedAspectRatioWithMasksAndKeypoints">
<code class="descname">testSSDRandomCropFixedAspectRatioWithMasksAndKeypoints</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testSSDRandomCropFixedAspectRatioWithMasksAndKeypoints" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testSSDRandomCropPad">
<code class="descname">testSSDRandomCropPad</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testSSDRandomCropPad" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testScaleBoxesToPixelCoordinates">
<code class="descname">testScaleBoxesToPixelCoordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testScaleBoxesToPixelCoordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests box scaling, checking scaled values.</p>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testScaleBoxesToPixelCoordinatesWithKeypoints">
<code class="descname">testScaleBoxesToPixelCoordinatesWithKeypoints</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testScaleBoxesToPixelCoordinatesWithKeypoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests box and keypoint scaling, checking scaled values.</p>
</dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testStrictRandomCropImageWithKeypoints">
<code class="descname">testStrictRandomCropImageWithKeypoints</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testStrictRandomCropImageWithKeypoints" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testStrictRandomCropImageWithMasks">
<code class="descname">testStrictRandomCropImageWithMasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testStrictRandomCropImageWithMasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.preprocessor_test.PreprocessorTest.testSubtractChannelMean">
<code class="descname">testSubtractChannelMean</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.preprocessor_test.PreprocessorTest.testSubtractChannelMean" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests whether channel means have been subtracted.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.region_similarity_calculator">
<span id="object-detection-core-region-similarity-calculator-module"></span><h2>object_detection.core.region_similarity_calculator module<a class="headerlink" href="#module-object_detection.core.region_similarity_calculator" title="Permalink to this headline">¶</a></h2>
<p>Region Similarity Calculators for BoxLists.</p>
<p>Region Similarity Calculators compare a pairwise measure of similarity
between the boxes in two BoxLists.</p>
<dl class="class">
<dt id="object_detection.core.region_similarity_calculator.IoaSimilarity">
<em class="property">class </em><code class="descclassname">object_detection.core.region_similarity_calculator.</code><code class="descname">IoaSimilarity</code><a class="headerlink" href="#object_detection.core.region_similarity_calculator.IoaSimilarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#object_detection.core.region_similarity_calculator.RegionSimilarityCalculator" title="object_detection.core.region_similarity_calculator.RegionSimilarityCalculator"><code class="xref py py-class docutils literal"><span class="pre">object_detection.core.region_similarity_calculator.RegionSimilarityCalculator</span></code></a></p>
<p>Class to compute similarity based on Intersection over Area (IOA) metric.</p>
<p>This class computes pairwise similarity between two BoxLists based on their
pairwise intersections divided by the areas of second BoxLists.</p>
</dd></dl>

<dl class="class">
<dt id="object_detection.core.region_similarity_calculator.IouSimilarity">
<em class="property">class </em><code class="descclassname">object_detection.core.region_similarity_calculator.</code><code class="descname">IouSimilarity</code><a class="headerlink" href="#object_detection.core.region_similarity_calculator.IouSimilarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#object_detection.core.region_similarity_calculator.RegionSimilarityCalculator" title="object_detection.core.region_similarity_calculator.RegionSimilarityCalculator"><code class="xref py py-class docutils literal"><span class="pre">object_detection.core.region_similarity_calculator.RegionSimilarityCalculator</span></code></a></p>
<p>Class to compute similarity based on Intersection over Union (IOU) metric.</p>
<p>This class computes pairwise similarity between two BoxLists based on IOU.</p>
</dd></dl>

<dl class="class">
<dt id="object_detection.core.region_similarity_calculator.NegSqDistSimilarity">
<em class="property">class </em><code class="descclassname">object_detection.core.region_similarity_calculator.</code><code class="descname">NegSqDistSimilarity</code><a class="headerlink" href="#object_detection.core.region_similarity_calculator.NegSqDistSimilarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#object_detection.core.region_similarity_calculator.RegionSimilarityCalculator" title="object_detection.core.region_similarity_calculator.RegionSimilarityCalculator"><code class="xref py py-class docutils literal"><span class="pre">object_detection.core.region_similarity_calculator.RegionSimilarityCalculator</span></code></a></p>
<p>Class to compute similarity based on the squared distance metric.</p>
<p>This class computes pairwise similarity between two BoxLists based on the
negative squared distance metric.</p>
</dd></dl>

<dl class="class">
<dt id="object_detection.core.region_similarity_calculator.RegionSimilarityCalculator">
<em class="property">class </em><code class="descclassname">object_detection.core.region_similarity_calculator.</code><code class="descname">RegionSimilarityCalculator</code><a class="headerlink" href="#object_detection.core.region_similarity_calculator.RegionSimilarityCalculator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Abstract base class for region similarity calculator.</p>
<dl class="method">
<dt id="object_detection.core.region_similarity_calculator.RegionSimilarityCalculator.compare">
<code class="descname">compare</code><span class="sig-paren">(</span><em>boxlist1</em>, <em>boxlist2</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.region_similarity_calculator.RegionSimilarityCalculator.compare" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes matrix of pairwise similarity between BoxLists.</p>
<p>This op (to be overriden) computes a measure of pairwise similarity between
the boxes in the given BoxLists. Higher values indicate more similarity.</p>
<p>Note that this method simply measures similarity and does not explicitly
perform a matching.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>boxlist1</strong> &#8211; BoxList holding N boxes.</li>
<li><strong>boxlist2</strong> &#8211; BoxList holding M boxes.</li>
<li><strong>scope</strong> &#8211; Op scope name. Defaults to &#8216;Compare&#8217; if None.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a (float32) tensor of shape [N, M] with pairwise similarity score.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.region_similarity_calculator_test">
<span id="object-detection-core-region-similarity-calculator-test-module"></span><h2>object_detection.core.region_similarity_calculator_test module<a class="headerlink" href="#module-object_detection.core.region_similarity_calculator_test" title="Permalink to this headline">¶</a></h2>
<p>Tests for region_similarity_calculator.</p>
<dl class="class">
<dt id="object_detection.core.region_similarity_calculator_test.RegionSimilarityCalculatorTest">
<em class="property">class </em><code class="descclassname">object_detection.core.region_similarity_calculator_test.</code><code class="descname">RegionSimilarityCalculatorTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.region_similarity_calculator_test.RegionSimilarityCalculatorTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.region_similarity_calculator_test.RegionSimilarityCalculatorTest.test_get_correct_pairwise_similarity_based_on_ioa">
<code class="descname">test_get_correct_pairwise_similarity_based_on_ioa</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.region_similarity_calculator_test.RegionSimilarityCalculatorTest.test_get_correct_pairwise_similarity_based_on_ioa" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.region_similarity_calculator_test.RegionSimilarityCalculatorTest.test_get_correct_pairwise_similarity_based_on_iou">
<code class="descname">test_get_correct_pairwise_similarity_based_on_iou</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.region_similarity_calculator_test.RegionSimilarityCalculatorTest.test_get_correct_pairwise_similarity_based_on_iou" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.region_similarity_calculator_test.RegionSimilarityCalculatorTest.test_get_correct_pairwise_similarity_based_on_squared_distances">
<code class="descname">test_get_correct_pairwise_similarity_based_on_squared_distances</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.region_similarity_calculator_test.RegionSimilarityCalculatorTest.test_get_correct_pairwise_similarity_based_on_squared_distances" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.standard_fields">
<span id="object-detection-core-standard-fields-module"></span><h2>object_detection.core.standard_fields module<a class="headerlink" href="#module-object_detection.core.standard_fields" title="Permalink to this headline">¶</a></h2>
<p>Contains classes specifying naming conventions used for object detection.</p>
<dl class="docutils">
<dt>Specifies:</dt>
<dd>InputDataFields: standard fields used by reader/preprocessor/batcher.
BoxListFields: standard field used by BoxList
TfExampleFields: standard fields for tf-example data format (go/tf-example).</dd>
</dl>
<dl class="class">
<dt id="object_detection.core.standard_fields.BoxListFields">
<em class="property">class </em><code class="descclassname">object_detection.core.standard_fields.</code><code class="descname">BoxListFields</code><a class="headerlink" href="#object_detection.core.standard_fields.BoxListFields" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Naming conventions for BoxLists.</p>
<dl class="attribute">
<dt id="object_detection.core.standard_fields.BoxListFields.boxes">
<code class="descname">boxes</code><a class="headerlink" href="#object_detection.core.standard_fields.BoxListFields.boxes" title="Permalink to this definition">¶</a></dt>
<dd><p>bounding box coordinates.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.BoxListFields.classes">
<code class="descname">classes</code><a class="headerlink" href="#object_detection.core.standard_fields.BoxListFields.classes" title="Permalink to this definition">¶</a></dt>
<dd><p>classes per bounding box.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.BoxListFields.scores">
<code class="descname">scores</code><a class="headerlink" href="#object_detection.core.standard_fields.BoxListFields.scores" title="Permalink to this definition">¶</a></dt>
<dd><p>scores per bounding box.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.BoxListFields.weights">
<code class="descname">weights</code><a class="headerlink" href="#object_detection.core.standard_fields.BoxListFields.weights" title="Permalink to this definition">¶</a></dt>
<dd><p>sample weights per bounding box.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.BoxListFields.objectness">
<code class="descname">objectness</code><a class="headerlink" href="#object_detection.core.standard_fields.BoxListFields.objectness" title="Permalink to this definition">¶</a></dt>
<dd><p>objectness score per bounding box.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.BoxListFields.masks">
<code class="descname">masks</code><a class="headerlink" href="#object_detection.core.standard_fields.BoxListFields.masks" title="Permalink to this definition">¶</a></dt>
<dd><p>masks per bounding box.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.BoxListFields.keypoints">
<code class="descname">keypoints</code><a class="headerlink" href="#object_detection.core.standard_fields.BoxListFields.keypoints" title="Permalink to this definition">¶</a></dt>
<dd><p>keypoints per bounding box.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.BoxListFields.keypoint_heatmaps">
<code class="descname">keypoint_heatmaps</code><a class="headerlink" href="#object_detection.core.standard_fields.BoxListFields.keypoint_heatmaps" title="Permalink to this definition">¶</a></dt>
<dd><p>keypoint heatmaps per bounding box.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">boxes</code><em class="property"> = 'boxes'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">classes</code><em class="property"> = 'classes'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">keypoint_heatmaps</code><em class="property"> = 'keypoint_heatmaps'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">keypoints</code><em class="property"> = 'keypoints'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">masks</code><em class="property"> = 'masks'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">objectness</code><em class="property"> = 'objectness'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">scores</code><em class="property"> = 'scores'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">weights</code><em class="property"> = 'weights'</em></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.standard_fields.InputDataFields">
<em class="property">class </em><code class="descclassname">object_detection.core.standard_fields.</code><code class="descname">InputDataFields</code><a class="headerlink" href="#object_detection.core.standard_fields.InputDataFields" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Names for the input tensors.</p>
<p>Holds the standard data field names to use for identifying input tensors. This
should be used by the decoder to identify keys for the returned tensor_dict
containing input tensors. And it should be used by the model to identify the
tensors it needs.</p>
<dl class="attribute">
<dt id="object_detection.core.standard_fields.InputDataFields.image">
<code class="descname">image</code><a class="headerlink" href="#object_detection.core.standard_fields.InputDataFields.image" title="Permalink to this definition">¶</a></dt>
<dd><p>image.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.InputDataFields.original_image">
<code class="descname">original_image</code><a class="headerlink" href="#object_detection.core.standard_fields.InputDataFields.original_image" title="Permalink to this definition">¶</a></dt>
<dd><p>image in the original input size.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.InputDataFields.key">
<code class="descname">key</code><a class="headerlink" href="#object_detection.core.standard_fields.InputDataFields.key" title="Permalink to this definition">¶</a></dt>
<dd><p>unique key corresponding to image.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.InputDataFields.source_id">
<code class="descname">source_id</code><a class="headerlink" href="#object_detection.core.standard_fields.InputDataFields.source_id" title="Permalink to this definition">¶</a></dt>
<dd><p>source of the original image.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.InputDataFields.filename">
<code class="descname">filename</code><a class="headerlink" href="#object_detection.core.standard_fields.InputDataFields.filename" title="Permalink to this definition">¶</a></dt>
<dd><p>original filename of the dataset (without common path).</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.InputDataFields.groundtruth_image_classes">
<code class="descname">groundtruth_image_classes</code><a class="headerlink" href="#object_detection.core.standard_fields.InputDataFields.groundtruth_image_classes" title="Permalink to this definition">¶</a></dt>
<dd><p>image-level class labels.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.InputDataFields.groundtruth_boxes">
<code class="descname">groundtruth_boxes</code><a class="headerlink" href="#object_detection.core.standard_fields.InputDataFields.groundtruth_boxes" title="Permalink to this definition">¶</a></dt>
<dd><p>coordinates of the ground truth boxes in the image.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.InputDataFields.groundtruth_classes">
<code class="descname">groundtruth_classes</code><a class="headerlink" href="#object_detection.core.standard_fields.InputDataFields.groundtruth_classes" title="Permalink to this definition">¶</a></dt>
<dd><p>box-level class labels.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.InputDataFields.groundtruth_label_types">
<code class="descname">groundtruth_label_types</code><a class="headerlink" href="#object_detection.core.standard_fields.InputDataFields.groundtruth_label_types" title="Permalink to this definition">¶</a></dt>
<dd><p>box-level label types (e.g. explicit negative).</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.InputDataFields.groundtruth_is_crowd">
<code class="descname">groundtruth_is_crowd</code><a class="headerlink" href="#object_detection.core.standard_fields.InputDataFields.groundtruth_is_crowd" title="Permalink to this definition">¶</a></dt>
<dd><p>is the groundtruth a single object or a crowd.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.InputDataFields.groundtruth_area">
<code class="descname">groundtruth_area</code><a class="headerlink" href="#object_detection.core.standard_fields.InputDataFields.groundtruth_area" title="Permalink to this definition">¶</a></dt>
<dd><p>area of a groundtruth segment.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.InputDataFields.groundtruth_difficult">
<code class="descname">groundtruth_difficult</code><a class="headerlink" href="#object_detection.core.standard_fields.InputDataFields.groundtruth_difficult" title="Permalink to this definition">¶</a></dt>
<dd><p>is a <cite>difficult</cite> object</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.InputDataFields.proposal_boxes">
<code class="descname">proposal_boxes</code><a class="headerlink" href="#object_detection.core.standard_fields.InputDataFields.proposal_boxes" title="Permalink to this definition">¶</a></dt>
<dd><p>coordinates of object proposal boxes.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.InputDataFields.proposal_objectness">
<code class="descname">proposal_objectness</code><a class="headerlink" href="#object_detection.core.standard_fields.InputDataFields.proposal_objectness" title="Permalink to this definition">¶</a></dt>
<dd><p>objectness score of each proposal.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.InputDataFields.groundtruth_instance_masks">
<code class="descname">groundtruth_instance_masks</code><a class="headerlink" href="#object_detection.core.standard_fields.InputDataFields.groundtruth_instance_masks" title="Permalink to this definition">¶</a></dt>
<dd><p>ground truth instance masks.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.InputDataFields.groundtruth_instance_classes">
<code class="descname">groundtruth_instance_classes</code><a class="headerlink" href="#object_detection.core.standard_fields.InputDataFields.groundtruth_instance_classes" title="Permalink to this definition">¶</a></dt>
<dd><p>instance mask-level class labels.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.InputDataFields.groundtruth_keypoints">
<code class="descname">groundtruth_keypoints</code><a class="headerlink" href="#object_detection.core.standard_fields.InputDataFields.groundtruth_keypoints" title="Permalink to this definition">¶</a></dt>
<dd><p>ground truth keypoints.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.InputDataFields.groundtruth_keypoint_visibilities">
<code class="descname">groundtruth_keypoint_visibilities</code><a class="headerlink" href="#object_detection.core.standard_fields.InputDataFields.groundtruth_keypoint_visibilities" title="Permalink to this definition">¶</a></dt>
<dd><p>ground truth keypoint visibilities.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.InputDataFields.groundtruth_label_scores">
<code class="descname">groundtruth_label_scores</code><a class="headerlink" href="#object_detection.core.standard_fields.InputDataFields.groundtruth_label_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>groundtruth label scores.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">filename</code><em class="property"> = 'filename'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">groundtruth_area</code><em class="property"> = 'groundtruth_area'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">groundtruth_boxes</code><em class="property"> = 'groundtruth_boxes'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">groundtruth_classes</code><em class="property"> = 'groundtruth_classes'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">groundtruth_difficult</code><em class="property"> = 'groundtruth_difficult'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">groundtruth_image_classes</code><em class="property"> = 'groundtruth_image_classes'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">groundtruth_instance_classes</code><em class="property"> = 'groundtruth_instance_classes'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">groundtruth_instance_masks</code><em class="property"> = 'groundtruth_instance_masks'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">groundtruth_is_crowd</code><em class="property"> = 'groundtruth_is_crowd'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">groundtruth_keypoint_visibilities</code><em class="property"> = 'groundtruth_keypoint_visibilities'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">groundtruth_keypoints</code><em class="property"> = 'groundtruth_keypoints'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">groundtruth_label_scores</code><em class="property"> = 'groundtruth_label_scores'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">groundtruth_label_types</code><em class="property"> = 'groundtruth_label_types'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">image</code><em class="property"> = 'image'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">key</code><em class="property"> = 'key'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">original_image</code><em class="property"> = 'original_image'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">proposal_boxes</code><em class="property"> = 'proposal_boxes'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">proposal_objectness</code><em class="property"> = 'proposal_objectness'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">source_id</code><em class="property"> = 'source_id'</em></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.standard_fields.TfExampleFields">
<em class="property">class </em><code class="descclassname">object_detection.core.standard_fields.</code><code class="descname">TfExampleFields</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>TF-example proto feature names for object detection.</p>
<p>Holds the standard feature names to load from an Example proto for object
detection.</p>
<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.image_encoded">
<code class="descname">image_encoded</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.image_encoded" title="Permalink to this definition">¶</a></dt>
<dd><p>JPEG encoded string</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.image_format">
<code class="descname">image_format</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.image_format" title="Permalink to this definition">¶</a></dt>
<dd><p>image format, e.g. &#8220;JPEG&#8221;</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.filename">
<code class="descname">filename</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.filename" title="Permalink to this definition">¶</a></dt>
<dd><p>filename</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.channels">
<code class="descname">channels</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.channels" title="Permalink to this definition">¶</a></dt>
<dd><p>number of channels of image</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.colorspace">
<code class="descname">colorspace</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.colorspace" title="Permalink to this definition">¶</a></dt>
<dd><p>colorspace, e.g. &#8220;RGB&#8221;</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.height">
<code class="descname">height</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.height" title="Permalink to this definition">¶</a></dt>
<dd><p>height of image in pixels, e.g. 462</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.width">
<code class="descname">width</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.width" title="Permalink to this definition">¶</a></dt>
<dd><p>width of image in pixels, e.g. 581</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.source_id">
<code class="descname">source_id</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.source_id" title="Permalink to this definition">¶</a></dt>
<dd><p>original source of the image</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.object_class_text">
<code class="descname">object_class_text</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.object_class_text" title="Permalink to this definition">¶</a></dt>
<dd><p>labels in text format, e.g. [&#8220;person&#8221;, &#8220;cat&#8221;]</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">object_class_text</code></dt>
<dd><p>labels in numbers, e.g. [16, 8]</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.object_bbox_xmin">
<code class="descname">object_bbox_xmin</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.object_bbox_xmin" title="Permalink to this definition">¶</a></dt>
<dd><p>xmin coordinates of groundtruth box, e.g. 10, 30</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.object_bbox_xmax">
<code class="descname">object_bbox_xmax</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.object_bbox_xmax" title="Permalink to this definition">¶</a></dt>
<dd><p>xmax coordinates of groundtruth box, e.g. 50, 40</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.object_bbox_ymin">
<code class="descname">object_bbox_ymin</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.object_bbox_ymin" title="Permalink to this definition">¶</a></dt>
<dd><p>ymin coordinates of groundtruth box, e.g. 40, 50</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.object_bbox_ymax">
<code class="descname">object_bbox_ymax</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.object_bbox_ymax" title="Permalink to this definition">¶</a></dt>
<dd><p>ymax coordinates of groundtruth box, e.g. 80, 70</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.object_view">
<code class="descname">object_view</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.object_view" title="Permalink to this definition">¶</a></dt>
<dd><p>viewpoint of object, e.g. [&#8220;frontal&#8221;, &#8220;left&#8221;]</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.object_truncated">
<code class="descname">object_truncated</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.object_truncated" title="Permalink to this definition">¶</a></dt>
<dd><p>is object truncated, e.g. [true, false]</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.object_occluded">
<code class="descname">object_occluded</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.object_occluded" title="Permalink to this definition">¶</a></dt>
<dd><p>is object occluded, e.g. [true, false]</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.object_difficult">
<code class="descname">object_difficult</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.object_difficult" title="Permalink to this definition">¶</a></dt>
<dd><p>is object difficult, e.g. [true, false]</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.object_is_crowd">
<code class="descname">object_is_crowd</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.object_is_crowd" title="Permalink to this definition">¶</a></dt>
<dd><p>is the object a single object or a crowd</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.object_segment_area">
<code class="descname">object_segment_area</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.object_segment_area" title="Permalink to this definition">¶</a></dt>
<dd><p>the area of the segment.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.instance_masks">
<code class="descname">instance_masks</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.instance_masks" title="Permalink to this definition">¶</a></dt>
<dd><p>instance segmentation masks.</p>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.instance_classes">
<code class="descname">instance_classes</code><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.instance_classes" title="Permalink to this definition">¶</a></dt>
<dd><p>Classes for each instance segmentation mask.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">channels</code><em class="property"> = 'image/channels'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">colorspace</code><em class="property"> = 'image/colorspace'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">filename</code><em class="property"> = 'image/filename'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">height</code><em class="property"> = 'image/height'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">image_encoded</code><em class="property"> = 'image/encoded'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">image_format</code><em class="property"> = 'image/format'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">instance_classes</code><em class="property"> = 'image/segmentation/object/class'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">instance_masks</code><em class="property"> = 'image/segmentation/object'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">object_bbox_xmax</code><em class="property"> = 'image/object/bbox/xmax'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">object_bbox_xmin</code><em class="property"> = 'image/object/bbox/xmin'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">object_bbox_ymax</code><em class="property"> = 'image/object/bbox/ymax'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">object_bbox_ymin</code><em class="property"> = 'image/object/bbox/ymin'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="object_detection.core.standard_fields.TfExampleFields.object_class_label">
<code class="descname">object_class_label</code><em class="property"> = 'image/object/class/label'</em><a class="headerlink" href="#object_detection.core.standard_fields.TfExampleFields.object_class_label" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">object_class_text</code><em class="property"> = 'image/object/class/text'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">object_difficult</code><em class="property"> = 'image/object/difficult'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">object_is_crowd</code><em class="property"> = 'image/object/is_crowd'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">object_occluded</code><em class="property"> = 'image/object/occluded'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">object_segment_area</code><em class="property"> = 'image/object/segment/area'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">object_truncated</code><em class="property"> = 'image/object/truncated'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">object_view</code><em class="property"> = 'image/object/view'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">source_id</code><em class="property"> = 'image/source_id'</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">width</code><em class="property"> = 'image/width'</em></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core.target_assigner">
<span id="object-detection-core-target-assigner-module"></span><h2>object_detection.core.target_assigner module<a class="headerlink" href="#module-object_detection.core.target_assigner" title="Permalink to this headline">¶</a></h2>
<p>Base target assigner module.</p>
<p>The job of a TargetAssigner is, for a given set of anchors (bounding boxes) and
groundtruth detections (bounding boxes), to assign classification and regression
targets to each anchor as well as weights to each anchor (specifying, e.g.,
which anchors should not contribute to training loss).</p>
<p>It assigns classification/regression targets by performing the following steps:
1) Computing pairwise similarity between anchors and groundtruth boxes using a</p>
<blockquote>
<div>provided RegionSimilarity Calculator</div></blockquote>
<ol class="arabic simple" start="2">
<li>Computing a matching based on the similarity matrix using a provided Matcher</li>
<li>Assigning regression targets based on the matching and a provided BoxCoder</li>
<li>Assigning classification targets based on the matching and groundtruth labels</li>
</ol>
<p>Note that TargetAssigners only operate on detections from a single
image at a time, so any logic for applying a TargetAssigner to multiple
images must be handled externally.</p>
<dl class="class">
<dt id="object_detection.core.target_assigner.TargetAssigner">
<em class="property">class </em><code class="descclassname">object_detection.core.target_assigner.</code><code class="descname">TargetAssigner</code><span class="sig-paren">(</span><em>similarity_calc</em>, <em>matcher</em>, <em>box_coder</em>, <em>positive_class_weight=1.0</em>, <em>negative_class_weight=1.0</em>, <em>unmatched_cls_target=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.target_assigner.TargetAssigner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Target assigner to compute classification and regression targets.</p>
<dl class="method">
<dt id="object_detection.core.target_assigner.TargetAssigner.assign">
<code class="descname">assign</code><span class="sig-paren">(</span><em>anchors</em>, <em>groundtruth_boxes</em>, <em>groundtruth_labels=None</em>, <em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.target_assigner.TargetAssigner.assign" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign classification and regression targets to each anchor.</p>
<p>For a given set of anchors and groundtruth detections, match anchors
to groundtruth_boxes and assign classification and regression targets to
each anchor as well as weights based on the resulting match (specifying,
e.g., which anchors should not contribute to training loss).</p>
<p>Anchors that are not matched to anything are given a classification target
of self._unmatched_cls_target which can be specified via the constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>anchors</strong> &#8211; a BoxList representing N anchors</li>
<li><strong>groundtruth_boxes</strong> &#8211; a BoxList representing M groundtruth boxes</li>
<li><strong>groundtruth_labels</strong> &#8211; a tensor of shape [num_gt_boxes, d_1, ... d_k]
with labels for each of the ground_truth boxes. The subshape
[d_1, ... d_k] can be empty (corresponding to scalar inputs).  When set
to None, groundtruth_labels assumes a binary problem where all
ground_truth boxes get a positive label (of 1).</li>
<li><strong>**params</strong> &#8211; Additional keyword arguments for specific implementations of
the Matcher.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>a float32 tensor with shape [num_anchors, d_1, d_2 ... d_k],</dt>
<dd><p class="first last">where the subshape [d_1, ..., d_k] is compatible with groundtruth_labels
which has shape [num_gt_boxes, d_1, d_2, ... d_k].</p>
</dd>
</dl>
<p>cls_weights: a float32 tensor with shape [num_anchors]
reg_targets: a float32 tensor with shape [num_anchors, box_code_dimension]
reg_weights: a float32 tensor with shape [num_anchors]
match: a matcher.Match object encoding the match between anchors and</p>
<blockquote>
<div><p>groundtruth boxes, with rows corresponding to groundtruth boxes
and columns corresponding to anchors.</p>
</div></blockquote>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">cls_targets</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if anchors or groundtruth_boxes are not of type
box_list.BoxList</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="object_detection.core.target_assigner.TargetAssigner.box_coder">
<code class="descname">box_coder</code><a class="headerlink" href="#object_detection.core.target_assigner.TargetAssigner.box_coder" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.target_assigner.TargetAssigner.get_box_coder">
<code class="descname">get_box_coder</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.target_assigner.TargetAssigner.get_box_coder" title="Permalink to this definition">¶</a></dt>
<dd><p>Get BoxCoder of this TargetAssigner.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">BoxCoder object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#object_detection.core.box_coder.BoxCoder" title="object_detection.core.box_coder.BoxCoder">BoxCoder</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="object_detection.core.target_assigner.batch_assign_targets">
<code class="descclassname">object_detection.core.target_assigner.</code><code class="descname">batch_assign_targets</code><span class="sig-paren">(</span><em>target_assigner</em>, <em>anchors_batch</em>, <em>gt_box_batch</em>, <em>gt_class_targets_batch</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.target_assigner.batch_assign_targets" title="Permalink to this definition">¶</a></dt>
<dd><p>Batched assignment of classification and regression targets.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>target_assigner</strong> &#8211; a target assigner.</li>
<li><strong>anchors_batch</strong> &#8211; BoxList representing N box anchors or list of BoxList objects
with length batch_size representing anchor sets.</li>
<li><strong>gt_box_batch</strong> &#8211; a list of BoxList objects with length batch_size
representing groundtruth boxes for each image in the batch</li>
<li><strong>gt_class_targets_batch</strong> &#8211; a list of tensors with length batch_size, where
each tensor has shape [num_gt_boxes_i, classification_target_size] and
num_gt_boxes_i is the number of boxes in the ith boxlist of
gt_box_batch.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>a tensor with shape [batch_size, num_anchors,</dt>
<dd><p class="first last">num_classes],</p>
</dd>
</dl>
<p>batch_cls_weights: a tensor with shape [batch_size, num_anchors],
batch_reg_targets: a tensor with shape [batch_size, num_anchors,</p>
<blockquote>
<div><p>box_code_dimension]</p>
</div></blockquote>
<p>batch_reg_weights: a tensor with shape [batch_size, num_anchors],
match_list: a list of matcher.Match objects encoding the match between</p>
<blockquote>
<div><p>anchors and groundtruth boxes for each image of the batch,
with rows of the Match objects corresponding to groundtruth boxes
and columns corresponding to anchors.</p>
</div></blockquote>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">batch_cls_targets</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if input list lengths are inconsistent, i.e.,
batch_size == len(gt_box_batch) == len(gt_class_targets_batch)</p>
<blockquote class="last">
<div><p>and batch_size == len(anchors_batch) unless anchors_batch is a single
BoxList.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="object_detection.core.target_assigner.create_target_assigner">
<code class="descclassname">object_detection.core.target_assigner.</code><code class="descname">create_target_assigner</code><span class="sig-paren">(</span><em>reference</em>, <em>stage=None</em>, <em>positive_class_weight=1.0</em>, <em>negative_class_weight=1.0</em>, <em>unmatched_cls_target=None</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.target_assigner.create_target_assigner" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory function for creating standard target assigners.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reference</strong> &#8211; string referencing the type of TargetAssigner.</li>
<li><strong>stage</strong> &#8211; string denoting stage: {proposal, detection}.</li>
<li><strong>positive_class_weight</strong> &#8211; classification weight to be associated to positive
anchors (default: 1.0)</li>
<li><strong>negative_class_weight</strong> &#8211; classification weight to be associated to negative
anchors (default: 1.0)</li>
<li><strong>unmatched_cls_target</strong> &#8211; a float32 tensor with shape [d_1, d_2, ..., d_k]
which is consistent with the classification target for each
anchor (and can be empty for scalar targets).  This shape must thus be
compatible with the groundtruth labels that are passed to the Assign
function (which have shape [num_gt_boxes, d_1, d_2, ..., d_k]).
If set to None, unmatched_cls_target is set to be 0 for each anchor.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">desired target assigner.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#object_detection.core.target_assigner.TargetAssigner" title="object_detection.core.target_assigner.TargetAssigner">TargetAssigner</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; if combination reference+stage is invalid.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-object_detection.core.target_assigner_test">
<span id="object-detection-core-target-assigner-test-module"></span><h2>object_detection.core.target_assigner_test module<a class="headerlink" href="#module-object_detection.core.target_assigner_test" title="Permalink to this headline">¶</a></h2>
<p>Tests for object_detection.core.target_assigner.</p>
<dl class="class">
<dt id="object_detection.core.target_assigner_test.BatchTargetAssignerTest">
<em class="property">class </em><code class="descclassname">object_detection.core.target_assigner_test.</code><code class="descname">BatchTargetAssignerTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.target_assigner_test.BatchTargetAssignerTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.target_assigner_test.BatchTargetAssignerTest.test_batch_assign_empty_groundtruth">
<code class="descname">test_batch_assign_empty_groundtruth</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.target_assigner_test.BatchTargetAssignerTest.test_batch_assign_empty_groundtruth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.target_assigner_test.BatchTargetAssignerTest.test_batch_assign_multiclass_targets">
<code class="descname">test_batch_assign_multiclass_targets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.target_assigner_test.BatchTargetAssignerTest.test_batch_assign_multiclass_targets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.target_assigner_test.BatchTargetAssignerTest.test_batch_assign_multidimensional_targets">
<code class="descname">test_batch_assign_multidimensional_targets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.target_assigner_test.BatchTargetAssignerTest.test_batch_assign_multidimensional_targets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.target_assigner_test.BatchTargetAssignerTest.test_batch_assign_targets">
<code class="descname">test_batch_assign_targets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.target_assigner_test.BatchTargetAssignerTest.test_batch_assign_targets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.target_assigner_test.CreateTargetAssignerTest">
<em class="property">class </em><code class="descclassname">object_detection.core.target_assigner_test.</code><code class="descname">CreateTargetAssignerTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.target_assigner_test.CreateTargetAssignerTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.target_assigner_test.CreateTargetAssignerTest.test_create_target_assigner">
<code class="descname">test_create_target_assigner</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.target_assigner_test.CreateTargetAssignerTest.test_create_target_assigner" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests that named constructor gives working target assigners.</p>
<p>TODO: Make this test more general.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="object_detection.core.target_assigner_test.TargetAssignerTest">
<em class="property">class </em><code class="descclassname">object_detection.core.target_assigner_test.</code><code class="descname">TargetAssignerTest</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.target_assigner_test.TargetAssignerTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tensorflow.python.framework.test_util.TensorFlowTestCase</span></code></p>
<dl class="method">
<dt id="object_detection.core.target_assigner_test.TargetAssignerTest.test_assign_agnostic">
<code class="descname">test_assign_agnostic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.target_assigner_test.TargetAssignerTest.test_assign_agnostic" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.target_assigner_test.TargetAssignerTest.test_assign_empty_groundtruth">
<code class="descname">test_assign_empty_groundtruth</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.target_assigner_test.TargetAssignerTest.test_assign_empty_groundtruth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.target_assigner_test.TargetAssignerTest.test_assign_multiclass">
<code class="descname">test_assign_multiclass</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.target_assigner_test.TargetAssignerTest.test_assign_multiclass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.target_assigner_test.TargetAssignerTest.test_assign_multiclass_unequal_class_weights">
<code class="descname">test_assign_multiclass_unequal_class_weights</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.target_assigner_test.TargetAssignerTest.test_assign_multiclass_unequal_class_weights" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.target_assigner_test.TargetAssignerTest.test_assign_multidimensional_class_targets">
<code class="descname">test_assign_multidimensional_class_targets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.target_assigner_test.TargetAssignerTest.test_assign_multidimensional_class_targets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.target_assigner_test.TargetAssignerTest.test_assign_with_ignored_matches">
<code class="descname">test_assign_with_ignored_matches</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.target_assigner_test.TargetAssignerTest.test_assign_with_ignored_matches" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="object_detection.core.target_assigner_test.TargetAssignerTest.test_raises_error_on_invalid_groundtruth_labels">
<code class="descname">test_raises_error_on_invalid_groundtruth_labels</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#object_detection.core.target_assigner_test.TargetAssignerTest.test_raises_error_on_invalid_groundtruth_labels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-object_detection.core">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-object_detection.core" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">object_detection.core package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-object_detection.core.anchor_generator">object_detection.core.anchor_generator module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.balanced_positive_negative_sampler">object_detection.core.balanced_positive_negative_sampler module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.balanced_positive_negative_sampler_test">object_detection.core.balanced_positive_negative_sampler_test module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.batcher">object_detection.core.batcher module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.batcher_test">object_detection.core.batcher_test module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.box_coder">object_detection.core.box_coder module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.box_coder_test">object_detection.core.box_coder_test module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.box_list">object_detection.core.box_list module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.box_list_ops">object_detection.core.box_list_ops module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.box_list_ops_test">object_detection.core.box_list_ops_test module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.box_list_test">object_detection.core.box_list_test module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.box_predictor">object_detection.core.box_predictor module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.box_predictor_test">object_detection.core.box_predictor_test module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.data_decoder">object_detection.core.data_decoder module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.keypoint_ops">object_detection.core.keypoint_ops module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.keypoint_ops_test">object_detection.core.keypoint_ops_test module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.losses">object_detection.core.losses module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.losses_test">object_detection.core.losses_test module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.matcher">object_detection.core.matcher module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.matcher_test">object_detection.core.matcher_test module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.minibatch_sampler">object_detection.core.minibatch_sampler module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.minibatch_sampler_test">object_detection.core.minibatch_sampler_test module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.model">object_detection.core.model module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.post_processing">object_detection.core.post_processing module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.post_processing_test">object_detection.core.post_processing_test module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.prefetcher">object_detection.core.prefetcher module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.prefetcher_test">object_detection.core.prefetcher_test module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.preprocessor">object_detection.core.preprocessor module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.preprocessor_test">object_detection.core.preprocessor_test module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.region_similarity_calculator">object_detection.core.region_similarity_calculator module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.region_similarity_calculator_test">object_detection.core.region_similarity_calculator_test module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.standard_fields">object_detection.core.standard_fields module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.target_assigner">object_detection.core.target_assigner module</a></li>
<li><a class="reference internal" href="#module-object_detection.core.target_assigner_test">object_detection.core.target_assigner_test module</a></li>
<li><a class="reference internal" href="#module-object_detection.core">Module contents</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/object_detection.core.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, lance.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="_sources/object_detection.core.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>